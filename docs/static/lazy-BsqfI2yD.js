import{j as o,r as n}from"./jsx-runtime-_5WuVDLK.js";import{a as H,i as j,n as v}from"./ducks-B4GhlEk-.js";import{f as y}from"./liveSeries-D1-Gknr6.js";import{c as w,d as S,e as d}from"./hash-BqGn_fGC.js";import{j as B}from"./DefaultPropsProvider-CSjmKMGg.js";import{T as D,G as c}from"./base-_RRlrjJu.js";import{B as L}from"./Box-DH0NNVFk.js";import{P as b}from"./Paper-CR0QuJQc.js";import"./redux-toolkit.modern-J4jBE5Lh.js";import"./datetime-BT3pVNmC.js";import"./pako.esm-BoIYYwlZ.js";import"./utils-Ds4Qqy87.js";import"./useTheme-BXk4qgwv.js";import"./TransitionGroupContext-OigCRaz6.js";import"./index-CTAOeIM6.js";import"./useFormControl-CkXjXPAx.js";import"./resolveComponentProps-LjkoubKo.js";import"./useSlotProps-BWWNHuKW.js";import"./Modal-x9pmWsIV.js";import"./Backdrop-Diuy1ohG.js";import"./List-Bzz6kMxx.js";import"./menu-defs-CspXl_hk.js";import"./GlobalStyles-CG4ksUWf.js";import"./createBox-gRr0yNN2.js";const u=B(D)(({})=>({width:"100%"})),p=e=>JSON.stringify(e,null,"	"),f=w();window.hash={decodeConditionsHash:S,encodeConditionsHash:d};const T=()=>{const[e,a]=n.useState("loading...");return n.useEffect(()=>{(async()=>{const l=(await y()).map(({seriesTitle:r})=>[r,d({tags:[r],dateSpan:{from:null,to:null}})]).map(r=>r.join("	")).join(`
`);a(l)})()},[a]),e},k=()=>{const[e,a]=n.useState(p(f)),[s,i]=n.useState(d(f)),l=n.useCallback(({target:{value:t}})=>{i(t)},[i]),r=n.useCallback(()=>{try{const t=S(s);a(p(t))}catch(t){console.error("failed to convert",{cause:t})}},[s,a]),h=n.useCallback(({target:{value:t}})=>{a(t)},[a]),x=n.useCallback(()=>{try{const t=JSON.parse(e),m=H(t)?t:j(t)?v(t):(()=>{throw Error(`failed to convert ${JSON.stringify(t)}`)})(),g=d(m);console.debug(g,t,m),i(g)}catch(t){console.error("",{cause:t})}},[e,i]),C=T();return{hash:s,dataString:e,targetHashListString:C,onHashChange:l,onDataStringChange:h,onHashBlur:r,onDataStringBlur:x}};function et(){const{hash:e,dataString:a,targetHashListString:s,onDataStringChange:i,onHashChange:l,onDataStringBlur:r,onHashBlur:h}=k();return o.jsx(L,{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",children:o.jsx(b,{sx:{width:"100%"},children:o.jsxs(c,{container:!0,children:[o.jsx(c,{item:!0,xs:12,children:o.jsx(u,{id:"hash",placeholder:"hash",value:e,onChange:l,onBlur:h})}),o.jsx(c,{item:!0,xs:12,children:o.jsx(u,{id:"data",multiline:!0,placeholder:"data",value:a,onChange:i,onBlur:r})}),o.jsx(c,{item:!0,xs:12,children:o.jsx(u,{id:"data",multiline:!0,placeholder:"data",value:s,onChange:i,onBlur:r,disabled:!0})})]})})})}export{et as default};

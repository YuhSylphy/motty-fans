"use strict";(self.webpackChunkmotty_fans=self.webpackChunkmotty_fans||[]).push([[905],{93236:function(n,e,t){t.d(e,{Tx:function(){return p},au:function(){return d},xW:function(){return c}});var r=t(15861),a=t(87757),i=t.n(a),o="".concat("/motty-fans","/assets/videos/videos.json"),s="".concat("/motty-fans","/assets/live-series/liveSeries.json"),u="".concat("/motty-fans","/assets/live-series/games.json");function c(){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(i().mark((function n(){var e,t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(o);case 2:return e=n.sent,n.next=5,e.json();case 5:return t=n.sent,n.abrupt("return",t);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function n(){var e,t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(s);case 2:return e=n.sent,n.next=5,e.json();case 5:return t=n.sent,n.abrupt("return",t);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function p(){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark((function n(){var e,t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(u);case 2:return e=n.sent,n.next=5,e.json();case 5:return t=n.sent,n.abrupt("return",t);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},19316:function(n,e,t){t.d(e,{N:function(){return r}});var r=function(n){return function(e){return"string"===typeof e?{style:n,label:e}:e}}},94381:function(n,e,t){t.r(e),t.d(e,{default:function(){return xn}});var r=t(78135),a=t(93433),i=t(29439),o=t(1413),s=t(72791),u=t(16871),c=t(20890),l=t(20068),d=t(94294),f=t(72363),p=t(66647),h=t(42169),g=t(16029),v=t(81918),m=t(57621),x=t(39504),Z=t(13400),b=t(89164),j=t(61889),y=t(35527),C=t(94821),w=t(23933),k=t(66934),T=t(57152),M=t(5403),S=t(70366),I=t(50200),P=t(14771),O=t(35667),A=t(69632),L=t(69870),F=t(19316),B=t(80184),D=function(n){return"https://www.youtube.com/watch?v=".concat(n)};function V(){return(0,B.jsx)("div",{children:"Loading..."})}var W=(0,k.ZP)(c.Z)({display:"-webkit-box",overflow:"hidden",lineClamp:2,WebkitLineClamp:2,boxOrient:"vertical",WebkitBoxOrient:"vertical",fontSize:".9rem"});function E(n){var e;return(0,B.jsx)(l.Z,{title:null!==(e=n.children)&&void 0!==e?e:"",children:(0,B.jsx)(W,(0,o.Z)((0,o.Z)({},n),{},{gutterBottom:!0,variant:"h6"}))})}function N(n){var e;return(0,B.jsx)(l.Z,{title:null!==(e=n.children)&&void 0!==e?e:"",children:(0,B.jsx)(c.Z,(0,o.Z)((0,o.Z)({},n),{},{variant:"body2",color:"text.secondary",align:"right"}))})}var z=(0,k.ZP)(c.Z)({display:"-webkit-box",overflow:"hidden",lineClamp:3,WebkitLineClamp:3,boxOrient:"vertical",WebkitBoxOrient:"vertical",fontSize:".75rem"});function _(n){var e;return(0,B.jsx)(l.Z,{title:null!==(e=n.children)&&void 0!==e?e:"",children:(0,B.jsx)(z,(0,o.Z)((0,o.Z)({},n),{},{variant:"body2"}))})}function q(n){var e=n.videoId;return(0,B.jsx)(d.Z,{href:D(e),target:"_blank",referrerPolicy:"no-referrer",children:"Watch"})}var G=(0,k.ZP)(f.Z)({justifyContent:"right"});function H(n){var e=n.imageUrl,t=n.alt,r=n.videoId;return(0,B.jsx)(p.Z,{href:D(r),target:"_blank",referrerPolicy:"no-referrer",children:(0,B.jsx)(h.Z,{component:"img",src:e,alt:t})})}function U(n){var e=n.tag,t=n.deletable,r=n.findable,a=function(n,e,t){var r=n.label,a=n.style,i=(0,A.TL)(),o=(0,s.useCallback)((function(){i(L.g.addConditionTags([r]))}),[i,r]),u=(0,s.useCallback)((function(){i(L.g.removeConditionTags([r]))}),[i,r]);return{findTag:t?o:void 0,deleteTag:e?u:void 0,chipColor:(0,s.useMemo)((function(){switch(a){case"none":return"default";case"lives":return"chipTagsFromLives";case"series":return"chipTagsFromSeries";case"games":return"chipTagsFromGames";case"broadcast":return"chipLiveStylesBroadcast";case"video":return"chipLiveStylesVideo";case"short":return"chipLiveStylesShort";default:throw a}}),[a])}}(e,t,r),i=a.findTag,o=a.deleteTag,u=a.chipColor;return(0,B.jsx)(Y,{label:e.label,size:"small",icon:r?(0,B.jsx)(M.Z,{}):void 0,clickable:r,onClick:i,onDelete:o,color:u})}var R=(0,k.ZP)(g.Z)({}),Y=(0,k.ZP)(v.Z)({fontSize:".6rem"});function J(n){var e=n.tags,t=n.deletable,r=n.findable;return(0,B.jsx)(R,{children:e.map((function(n){return(0,B.jsx)(U,{tag:n,deletable:t,findable:r},n.label)}))})}var K=(0,k.ZP)("div")((function(n){var e=n.theme;return{height:"0px",width:"100%",margin:"".concat(e.spacing(1)," 0")}}));function Q(n){var e=n.def,t=e.thumbnails.high,r=(0,s.useMemo)((function(){return I.ou.fromMillis(e.publishedAt).setZone("Asia/Tokyo").toFormat("yyyy-MM-dd HH:mm:ss")}),[e.publishedAt]);return(0,B.jsxs)(m.Z,{children:[(0,B.jsx)(H,{imageUrl:t.url,alt:e.title,videoId:e.id}),(0,B.jsxs)(x.Z,{children:[(0,B.jsx)(J,{tags:e.tags,findable:!0}),(0,B.jsx)(K,{}),(0,B.jsx)(E,{children:e.title}),(0,B.jsx)(N,{children:r}),(0,B.jsx)(_,{children:e.description})]}),(0,B.jsx)(G,{children:(0,B.jsx)(q,{videoId:e.id})})]})}function X(){return(0,B.jsx)(g.Z,{display:"flex",justifyContent:"flex-end",children:(0,B.jsx)(Z.Z,{"aria-label":"scroll to top",component:"span",onClick:O.NY.scrollToTop,children:(0,B.jsx)(S.Z,{})})})}function $(n){var e=n.defs,t=function(n){var e=(0,s.useState)([]),t=(0,i.Z)(e,2),r=t[0],o=t[1],u=(0,s.useCallback)((function(){var e=r.length+20;n.length>e?o(n.slice(0,e)):o((0,a.Z)(n))}),[r,o,n]);(0,s.useEffect)((function(){u()}),[u]);var c=(0,A.rI)({xs:1,sm:2,md:3,lg:4,xl:4});return{loaded:r,fetchNext:u,itemsPerRow:c}}(e),r=t.loaded,o=t.fetchNext,u=t.itemsPerRow;return(0,B.jsx)(b.Z,{children:(0,B.jsx)(P.Z,{dataLength:r.length,next:o,hasMore:r.length<e.length,loader:(0,B.jsx)(V,{}),children:(0,B.jsx)(j.ZP,{container:!0,spacing:2,children:r.map((function(n,e){return(0,B.jsxs)(s.Fragment,{children:[0===e||e%(3*u)!==0?null:(0,B.jsx)(j.ZP,{item:!0,xs:12,children:(0,B.jsx)(X,{})}),(0,B.jsx)(j.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsx)(Q,{def:n})})]},n.id)}))})})})}var nn=(0,k.ZP)(y.Z)((function(n){var e=n.theme;return{marginTop:e.spacing(1),marginBottom:e.spacing(1),padding:e.spacing(1)}}));function en(n){var e=n.tagCandidates,t=function(){var n=(0,A.TL)(),e=(0,A.CG)((function(n){return n.videos})).condition,t=e.tags,r=e.dateSpan,a=r.from,u=r.to,c=(0,s.useCallback)((function(e){null===e?n(L.g.clearConditionDateFrom()):e instanceof I.ou?n(L.g.setConditionDateFrom(e.toMillis())):console.error("from condition is not a date nor null",e)}),[n]),l=(0,s.useCallback)((function(e){null===e?n(L.g.clearConditionDateTo()):e instanceof I.ou?n(L.g.setConditionDateTo(e.toMillis())):console.error("to condition is not a date nor null",e)}),[n]),d=(0,s.useState)(""),f=(0,i.Z)(d,2),p=f[0],h=f[1],g=(0,s.useCallback)((function(n){return(0,B.jsx)(C.Z,(0,o.Z)((0,o.Z)({},n),{},{label:"\u30bf\u30b0",variant:"standard"}))}),[]),v=(0,s.useCallback)((function(e,t,r,a){if("string"===typeof t)return"blur"===r?(n(L.g.addConditionTags([t])),void h("")):void 0}),[n,h]),m=(0,s.useCallback)((function(n,e,t){"string"===typeof e&&("input"!==t||h(e))}),[h]),x=(0,s.useCallback)((function(n,e){return n===e}),[]);return{tags:(0,s.useMemo)((function(){return t.map((0,F.N)("none"))}),[t]),from:null!==a?I.ou.fromMillis(a):null,to:null!==u?I.ou.fromMillis(u):null,autocompleteValue:p,renderTagAutocompleteInput:g,onChangeFrom:c,onChangeTo:l,onChangeTag:v,onInputChangeTag:m,isOptionEqualToValue:x}}(),r=t.tags,a=t.from,u=t.to,l=t.autocompleteValue,d=t.renderTagAutocompleteInput,f=t.onChangeFrom,p=t.onChangeTo,h=t.onChangeTag,g=t.onInputChangeTag,v=t.isOptionEqualToValue;return(0,B.jsx)(b.Z,{children:(0,B.jsxs)(nn,{children:[(0,B.jsx)(c.Z,{variant:"caption",children:(0,B.jsx)(M.Z,{})}),(0,B.jsxs)(j.ZP,{container:!0,spacing:2,children:[(0,B.jsxs)(j.ZP,{item:!0,xs:12,children:[(0,B.jsx)(w.Z,{options:e,renderInput:d,isOptionEqualToValue:v,autoHighlight:!0,autoSelect:!0,blurOnSelect:!0,clearOnBlur:!0,onChange:function(n,e,t,r){h(n,e,t,r)},onInputChange:function(n,e,t){g(n,e,t)},inputValue:l}),(0,B.jsx)(J,{tags:r,deletable:!0})]}),(0,B.jsxs)(j.ZP,{item:!0,xs:12,children:[(0,B.jsx)(T.M,{label:"\u914d\u4fe1\u30fb\u6295\u7a3f\u65e5(from)",format:"yyyy-MM-dd",value:a,onChange:f,showDaysOutsideCurrentMonth:!0,slotProps:{actionBar:{actions:["clear","today","cancel","accept"]}}}),(0,B.jsx)(T.M,{label:"\u914d\u4fe1\u30fb\u6295\u7a3f\u65e5(to)",format:"yyyy-MM-dd",value:u,onChange:p,showDaysOutsideCurrentMonth:!0,slotProps:{actionBar:{actions:["clear","today","cancel","accept"]}}})]})]})]})})}function tn(){var n=function(){var n=(0,s.useState)(!0),e=(0,i.Z)(n,2),t=e[0],r=e[1],o=(0,A.TL)(),c=(0,A.CG)((function(n){return n.videos})),l=c.loaded,d=c.list,f=c.condition,p=f.tags,h=f.dateSpan,g=h.from,v=h.to;(0,s.useEffect)((function(){t&&(o(L.g.init()),r(!1))}),[t,r,o]);var m=(0,s.useMemo)((function(){return(0,a.Z)(d.filter((function(n){return(0===p.length||(e=n.tags.map((function(n){return n.label})),p.every((function(n){return e.includes(n)}))))&&(null===g||g<=n.publishedAt)&&(null===v||n.publishedAt<=v);var e}))).sort((function(n,e){return-(n.publishedAt-e.publishedAt)}))}),[d,p,g,v]),x=Array.from(function(){var n=new Set(m.flatMap((function(n){return n.tags.map((function(n){return n.label}))})));return p.forEach((function(e){return n.delete(e)})),n}().keys()).sort(),Z=(0,u.UO)().hash;return{loading:(0,s.useMemo)((function(){return!l}),[l]),defs:m,tagCandidates:x,hash:Z}}(),e=n.loading,t=n.defs,r=n.tagCandidates;return e?(0,B.jsx)(V,{}):(0,B.jsxs)(s.Fragment,{children:[(0,B.jsx)(en,{tagCandidates:r}),(0,B.jsx)($,{defs:t})]})}var rn=t(15861),an=t(87757),on=t.n(an),sn=t(41441),un=t(34013),cn=t(44925),ln=t(93236),dn=["liveStyle"],fn=["tags.bak","tags","liveSeriesId"],pn=function(n){return{label:function(){switch(n){case"broadcast":return"\u751f\u914d\u4fe1";case"video":return"\u52d5\u753b";case"short":return"\u30b7\u30e7\u30fc\u30c8";default:throw n}}(),style:n}};function hn(){return gn.apply(this,arguments)}function gn(){return gn=(0,rn.Z)(on().mark((function n(){var e,t,r,s,u,c,l,d,f,p,h,g,v,m;return on().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=["none","lives","series","games"].map(F.N),t=(0,i.Z)(e,4),r=t[0],s=t[1],u=t[2],c=t[3],n.next=3,Promise.all([(0,rn.Z)(on().mark((function n(){var e,t;return on().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,ln.xW)();case 2:return e=n.sent,t=e.items,n.abrupt("return",t&&t.length>0?t.map((function(n){var e,t,i,o,u=n.liveStyle,c=(0,cn.Z)(n,dn);return{id:c.id.videoId,publishedAt:I.ou.fromISO(c.snippet.publishedAt).toMillis(),title:c.snippet.title,description:c.snippet.description,thumbnails:c.snippet.thumbnails,liveSeriesId:c.liveSeriesId,tags:[].concat((0,a.Z)(u?[pn(u)]:[]),(0,a.Z)(null!==(e=null===(t=c.tags)||void 0===t?void 0:t.map(s))&&void 0!==e?e:[])),"tags.bak":null!==(i=null===(o=c["tags.bak"])||void 0===o?void 0:o.map(r))&&void 0!==i?i:[]}})):[]);case 5:case"end":return n.stop()}}),n)})))(),(0,rn.Z)(on().mark((function n(){var e,t;return on().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,ln.au)();case 2:return e=n.sent,t=e.items,n.abrupt("return",t.map((function(n){var e=n.id,t=n.gameId,r=n.seriesTitle,i=n.tags;return{id:e,gameId:t,tags:[u(r)].concat((0,a.Z)(i.map(u)))}})));case 5:case"end":return n.stop()}}),n)})))(),(0,rn.Z)(on().mark((function n(){var e,t;return on().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,ln.Tx)();case 2:return e=n.sent,t=e.items,n.abrupt("return",t.map((function(n){var e=n.id,t=n.platform,r=n.gameTitle,i=n.tags;return{id:e,tags:[].concat((0,a.Z)(t?[c(t)]:[]),[c(r)],(0,a.Z)(i.map(c)))}})));case 5:case"end":return n.stop()}}),n)})))()]);case 3:return l=n.sent,d=(0,i.Z)(l,3),f=d[0],p=d[1],h=d[2],g=new Map(h.map((function(n){return[n.id,n]}))),v=new Map(p.map((function(n){var e,t;return[n.id,(0,o.Z)((0,o.Z)({},n),{},{tags:[].concat((0,a.Z)(n.tags),(0,a.Z)(n.gameId&&null!==(e=null===(t=g.get(n.gameId))||void 0===t?void 0:t.tags)&&void 0!==e?e:[]))})]}))),m=f.map((function(n){var e,t,i,s=n["tags.bak"],u=n.tags,c=n.liveSeriesId,l=(0,cn.Z)(n,fn);return(0,o.Z)((0,o.Z)({},l),{},{tags:(i=[].concat((0,a.Z)(u),(0,a.Z)(c&&null!==(e=null===(t=v.get(c))||void 0===t?void 0:t.tags)&&void 0!==e?e:[]),(0,a.Z)(s)).filter((function(n,e,t){var r=n.label;return!vn.includes(r)&&null==t.slice(0,e).find((function(n){var e=n.label;return r==e}))})),i.length>0?i:[r("no tags")])})})),n.abrupt("return",m);case 12:case"end":return n.stop()}}),n)}))),gn.apply(this,arguments)}var vn=["\u2015","live","taped"],mn=(0,sn.l)((function(n){return n.pipe((0,un.h)(L.g.init.match),(0,A.vi)("videos/fetch",(0,rn.Z)(on().mark((function n(){return on().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=L.g,n.next=3,hn();case 3:return n.t1=n.sent,n.abrupt("return",n.t0.setList.call(n.t0,n.t1));case 5:case"end":return n.stop()}}),n)})))))}),(function(n){return n.pipe((0,un.h)(L.g.init.match),(0,A.vi)("videos/default-condition",(0,rn.Z)(on().mark((function n(){return on().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",L.g.setConditionDateFrom(I.ou.now().minus({months:3}).toMillis()));case 1:case"end":return n.stop()}}),n)})))))}));(0,r.mb)(mn);var xn=function(){return(0,B.jsx)(s.Suspense,{fallback:(0,B.jsx)(V,{}),children:(0,B.jsx)(tn,{})})}}}]);
//# sourceMappingURL=videos.85dbcc79.chunk.js.map
"use strict";(self.webpackChunkmotty_fans=self.webpackChunkmotty_fans||[]).push([[390],{3135:function(e,n,r){r.r(n),r.d(n,{default:function(){return be}});var t=r(78135),i=r(29439),s=r(1413),a=r(72791),c=r(50200),u=r(50533),l=r(16029),o=r(61889),d=r(20890),h=r(15021),f=r(13400),p=r(36259),x=r(35527),v=r(90493),m=r(47924),j=r(53994),Z=r(35855),b=r(39281),g=r(79836),w=r(32793),y=r(1048),k=r(63733),P=r(94419),S=r(829),I=r(61020),M=r(66934),T=r(75878),C=r(21217);function L(e){return(0,C.ZP)("MuiTableHead",e)}(0,T.Z)("MuiTableHead",["root"]);var H=r(80184),R=["className","component"],A=(0,M.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(e,n){return n.root}})({display:"table-header-group"}),N={variant:"head"},O="thead",z=a.forwardRef((function(e,n){var r=(0,I.i)({props:e,name:"MuiTableHead"}),t=r.className,i=r.component,s=void 0===i?O:i,a=(0,y.Z)(r,R),c=(0,w.Z)({},r,{component:s}),u=function(e){var n=e.classes;return(0,P.Z)({root:["root"]},L,n)}(c);return(0,H.jsx)(S.Z.Provider,{value:N,children:(0,H.jsx)(A,(0,w.Z)({as:s,className:(0,k.Z)(u.root,t),ref:n,role:s===O?null:"rowgroup",ownerState:c},a))})})),E=r(53382),F=r(84395),W=r(89164),$=r(94821),_=r(63466),B=r(76189),G=(0,B.Z)((0,H.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),V=(0,B.Z)((0,H.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),D=r(69632),J=r(98275),Y=["video","broadcast","short"];function q(e){if(!function(e){return!!e&&Y.includes(e)}(e))return null;switch(e){case"video":return"\u52d5\u753b";case"broadcast":return"\u751f\u914d\u4fe1";case"short":return"\u30b7\u30e7\u30fc\u30c8";default:throw Error(e)}}function K(){return(0,H.jsx)("div",{children:"Loading..."})}var Q=function(e){return["\u2605".repeat(e),"\u2606".repeat(5-e)].join("").trim()};function U(e){var n=e.thumbnail,r=n.url,t=n.width,i=n.height,s=e.href,a=e.alt;return(0,H.jsx)(u.Z,{href:s,sx:{display:"flex",alignItems:"center",justifyContent:"center"},target:"_blank",rel:"noopener noreferrer",children:(0,H.jsx)(l.Z,{component:"img",alt:a,src:r,sx:function(e){return{aspectRatio:"".concat(t," / ").concat(i),width:"100%",height:"100%",objectFit:"contain",display:"block"}}})})}function X(e){var n=e.map(q);switch(n.length){case 0:return null;case 1:return n[0];default:return n.map((function(e){return null===e||void 0===e?void 0:e.slice(0,1)})).join(" / ")}}function ee(e){var n=e.id,r=e.platform,t=e.title,i=e.titleReleasedIn,c=e.styles,u=e.amount,l=e.masteryLevel,x=e.part1,v=e.remarks,m=(0,a.useMemo)((function(){return X(c)}),[c]),j=(0,a.useCallback)((function(){var e;return(0,H.jsxs)(o.ZP,{container:!0,children:[(0,H.jsx)(o.ZP,{item:!0,xs:6,children:(0,H.jsx)(d.Z,{children:m})}),(0,H.jsx)(o.ZP,{item:!0,xs:6,children:(0,H.jsx)(d.Z,{children:Q(l)})}),(0,H.jsx)(o.ZP,{item:!0,xs:6,children:(0,H.jsx)(d.Z,{children:r})}),(0,H.jsx)(o.ZP,{item:!0,xs:6,children:(0,H.jsxs)(d.Z,{children:["\u5b9f\u6cc1: ",null!==(e=null===x||void 0===x?void 0:x.publishedIn)&&void 0!==e?e:"(\u672a\u8a2d\u5b9a)"]})}),(0,H.jsx)(o.ZP,{item:!0,xs:6,children:(0,H.jsxs)(d.Z,{children:["\u914d\u4fe1\u6570: ",u]})}),(0,H.jsx)(o.ZP,{item:!0,xs:6,children:(0,H.jsxs)(d.Z,{children:["\u767a\u58f2: ",null!==i&&void 0!==i?i:"(\u672a\u8a2d\u5b9a)"]})}),(0,H.jsx)(o.ZP,{item:!0,xs:12,children:(0,H.jsx)(d.Z,{children:v})})]})}),[u,l,x,r,v,i,m]);return(0,H.jsx)(h.ZP,{secondaryAction:(0,H.jsx)(f.Z,(0,s.Z)((0,s.Z)({edge:"end"},null!==x?{href:x.url}:{}),{},{children:(0,H.jsx)(G,{})})),children:(0,H.jsxs)(o.ZP,{container:!0,children:[(0,H.jsx)(o.ZP,{item:!0,xs:12,children:(0,H.jsx)(p.Z,{primary:t})}),(0,H.jsx)(o.ZP,{item:!0,xs:4,children:null==x?null:(0,H.jsx)(U,{thumbnail:x.thumbnail,href:x.url,alt:x.title})}),(0,H.jsx)(o.ZP,{item:!0,xs:8,children:(0,H.jsx)(j,{})})]})},n)}function ne(e){var n=e.defs;return(0,H.jsx)(x.Z,{children:(0,H.jsx)(v.Z,{sx:{width:"100%"},children:n.map(ee).flatMap((function(e,n){return 0===n?[e]:[(0,H.jsx)(m.Z,{variant:"inset",component:"li",sx:{marginLeft:0}},"divider-".concat(n)),e]}))})})}function re(e,n){var r,t=e.id,i=e.platform,s=e.title,c=e.titleReleasedIn,u=e.styles,l=e.amount,o=e.masteryLevel,h=e.part1,f=e.remarks,p=(0,a.useMemo)((function(){return X(u)}),[u]),x=(0,a.useCallback)((function(){return h?(0,H.jsx)(j.Z,{align:"center",sx:function(e){return{padding:"".concat(e.spacing(.5)," ").concat(e.spacing(2))}},children:(0,H.jsx)(U,{thumbnail:h.thumbnail,alt:s,href:h.url})}):(0,H.jsx)(j.Z,{align:"center",children:(0,H.jsx)(d.Z,{children:"(\u672a\u8a2d\u5b9a)"})})}),[h,s]);return(0,H.jsxs)(Z.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,H.jsx)(j.Z,{component:"th",scope:"row",align:"center",children:(0,H.jsx)(d.Z,{children:n+1})}),(0,H.jsx)(x,{}),(0,H.jsx)(j.Z,{align:"center",children:(0,H.jsx)(d.Z,{children:i})}),(0,H.jsx)(j.Z,{children:(0,H.jsx)(d.Z,{children:s})}),(0,H.jsx)(j.Z,{align:"center",children:(0,H.jsx)(d.Z,{children:null!==(r=null===h||void 0===h?void 0:h.publishedIn)&&void 0!==r?r:"(\u672a\u8a2d\u5b9a)"})}),(0,H.jsx)(j.Z,{align:"center",children:(0,H.jsx)(d.Z,{children:null!==c&&void 0!==c?c:"(\u672a\u8a2d\u5b9a)"})}),(0,H.jsx)(j.Z,{align:"center",children:(0,H.jsx)(d.Z,{children:p})}),(0,H.jsx)(j.Z,{align:"center",children:(0,H.jsx)(d.Z,{children:l})}),(0,H.jsx)(j.Z,{align:"center",children:(0,H.jsx)(d.Z,{children:Q(o)})}),(0,H.jsx)(j.Z,{children:(0,H.jsx)(d.Z,{children:f})})]},t)}function te(e){var n=e.defs;return(0,H.jsx)(b.Z,{component:x.Z,children:(0,H.jsxs)(g.Z,{"aria-label":"simple table",children:[(0,H.jsx)(z,{children:(0,H.jsx)(Z.Z,{children:["#","Part 1.","\u6a5f\u7a2e","\u30bf\u30a4\u30c8\u30eb","\u5b9f\u6cc1\u5e74","\u767a\u58f2\u5e74","\u5b9f\u6cc1\u5f62\u5f0f","\u5b9f\u6cc1\u672c\u6570","\u3084\u308a\u3053\u307f\u8a55\u4fa1","\u5099\u8003"].map((function(e,n){return(0,H.jsx)(j.Z,{component:"th",scope:"row",align:"center",children:e},n)}))})}),(0,H.jsx)(E.Z,{children:n.map(re)})]})})}function ie(){return(0,H.jsx)(F.Z,{position:"static",color:"primary",enableColorOnDark:!0,children:(0,H.jsx)(d.Z,{variant:"subtitle1",children:"MOTTY\u306e\u30b2\u30fc\u30e0\u5b9f\u6cc1\u30b7\u30ea\u30fc\u30ba\u4e00\u89a7"})})}function se(){var e=function(){var e=(0,D.CG)((function(e){return e.liveSeries})).series,n=(0,a.useMemo)((function(){return e.map((function(e){var n,r=e.id,t=e.game,i=e.seriesTitle,s=e.lives,a=e.remarks;return{id:r,platform:null===t||void 0===t?void 0:t.platform,title:i,titleReleasedIn:(null===t||void 0===t?void 0:t.releasedIn)||null,styles:(n=s.map((function(e){return e.liveStyle})).reduce((function(e,n){return e.add(n)}),new Set),Array.from(n)),amount:s.length,masteryLevel:null===t||void 0===t?void 0:t.masteryLevel,part1:0===s.length?null:s.slice(0,1).map((function(e){var n=e.publishedAt,r=e.url,t=e.thumbnail,i=e.title;return{publishedIn:c.ou.fromMillis(n,{zone:"JST"}).year,url:r,thumbnail:t,title:i}}))[0],remarks:a}}))}),[e]);return{viewMode:(0,D.rI)({xs:"list",sm:"list",md:"table",lg:"table",xl:"table"}),defs:n}}(),n=e.viewMode,r=e.defs,t=(0,a.useCallback)((function(){switch(n){case"list":return(0,H.jsx)(ne,{defs:r});case"table":return(0,H.jsx)(te,{defs:r});default:throw n}}),[n,r]);return(0,H.jsxs)(a.Fragment,{children:[(0,H.jsx)(ie,{}),(0,H.jsx)(t,{})]})}var ae=(0,M.ZP)(x.Z)((function(e){var n=e.theme;return{marginTop:n.spacing(1),marginBottom:n.spacing(1),padding:n.spacing(1)}}));function ce(){return(0,H.jsx)(W.Z,{children:(0,H.jsx)(ae,{children:(0,H.jsx)($.Z,{id:"live-series-condition-input",label:"find",InputProps:{startAdornment:(0,H.jsx)(_.Z,{position:"start",children:(0,H.jsx)(V,{})})},variant:"standard",fullWidth:!0})})})}function ue(){return function(){var e=(0,a.useState)(!1),n=(0,i.Z)(e,2),r=n[0],t=n[1],s=(0,D.TL)();(0,a.useEffect)((function(){r||(s(J.$.init()),t(!0))}),[r,t,s]);var c=(0,D.CG)((function(e){return e.liveSeries})).series;return{loading:(0,a.useMemo)((function(){return!c||0===c.length}),[c])}}().loading?(0,H.jsx)(K,{}):(0,H.jsxs)(a.Fragment,{children:[(0,H.jsx)(ce,{}),(0,H.jsx)(se,{})]})}var le=r(15861),oe=r(87757),de=r.n(oe),he=r(41441),fe=r(34013),pe=r(19316),xe=r(93236),ve=function(e,n,r){var t,i=e.id.videoId,s=e.snippet,a=s.description,u=s.publishedAt,l=s.title,o=s.thumbnails,d=e.liveSeriesId,h=e.liveStyle,f=e.tags;return{id:i,description:a,publishedAt:c.ou.fromISO(u).toMillis(),title:l,thumbnail:o.default,liveSeriesId:d,liveStyle:h,tags:null!==(t=null===f||void 0===f?void 0:f.map((0,pe.N)("none")))&&void 0!==t?t:[],url:"https://www.youtube.com/watch?v=".concat(i)}};function me(){return je.apply(this,arguments)}function je(){return(je=(0,le.Z)(de().mark((function e(){var n,r,t,a,c;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,le.Z)(de().mark((function e(){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,xe.xW)();case 2:return n=e.sent,e.abrupt("return",Object.groupBy(n.items.filter((function(e){return null!=e.liveSeriesId})).map(ve),(function(e){var n=e.liveSeriesId;return null!==n&&void 0!==n?n:function(){throw new Error("unexpected video record having no live-series id")}()})));case 4:case"end":return e.stop()}}),e)})))(),(0,le.Z)(de().mark((function e(){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,xe.au)();case 2:return n=e.sent,e.abrupt("return",n.items);case 4:case"end":return e.stop()}}),e)})))(),(0,le.Z)(de().mark((function e(){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,xe.Tx)();case 2:return n=e.sent,e.abrupt("return",new Map(n.items.map((function(e){return[e.id,e]}))));case 4:case"end":return e.stop()}}),e)})))()]);case 2:return n=e.sent,r=(0,i.Z)(n,3),t=r[0],a=r[1],c=r[2],e.abrupt("return",a.map((function(e){var n,r;return(0,s.Z)((0,s.Z)({},e),{},{lives:e.id in t&&null!==(n=t[e.id])&&void 0!==n?n:[],game:e.gameId&&c.has(e.gameId)&&null!==(r=c.get(e.gameId))&&void 0!==r?r:null})})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ze=(0,he.l)((function(e){return e.pipe((0,fe.h)(J.$.init.match),(0,D.vi)("live-series/init",(0,le.Z)(de().mark((function e(){var n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:return n=e.sent,e.abrupt("return",J.$.setSeries({series:n}));case 4:case"end":return e.stop()}}),e)})))))}));(0,t.mb)(Ze);var be=function(){return(0,H.jsx)(a.Suspense,{fallback:(0,H.jsx)(K,{}),children:(0,H.jsx)(ue,{})})}},93236:function(e,n,r){r.d(n,{Tx:function(){return f},au:function(){return d},xW:function(){return l}});var t=r(15861),i=r(87757),s=r.n(i),a="".concat("/motty-fans","/assets/videos/videos.json"),c="".concat("/motty-fans","/assets/live-series/liveSeries.json"),u="".concat("/motty-fans","/assets/live-series/games.json");function l(){return o.apply(this,arguments)}function o(){return(o=(0,t.Z)(s().mark((function e(){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return h.apply(this,arguments)}function h(){return(h=(0,t.Z)(s().mark((function e(){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(c);case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return p.apply(this,arguments)}function p(){return(p=(0,t.Z)(s().mark((function e(){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u);case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},19316:function(e,n,r){r.d(n,{N:function(){return t}});var t=function(e){return function(n){return"string"===typeof n?{style:e,label:n}:n}}}}]);
//# sourceMappingURL=live-series.fcfc00f2.chunk.js.map
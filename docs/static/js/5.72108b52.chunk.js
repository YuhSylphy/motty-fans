(this["webpackJsonpmotty-fans"]=this["webpackJsonpmotty-fans"]||[]).push([[5],{644:function(e,t,a){},649:function(e,t,a){"use strict";a.r(t),a.d(t,"Family",(function(){return l}));var n=a(3),r=a(301),s=a(63),o=a(158),c=a(0),h=a(444),f=a(457),m=a(22),i=(a(644),function(){var e=Object(c.useRef)(null),t=Object(m.c)((function(e){return e.horseDefs.list})),a=Object(c.useMemo)((function(){return function(e){var t=new Map,a=[];return e.forEach((function(e){(e.owned||e.listed)&&(t.set(e.name,{label:e.name,class:"owned ".concat(e.sex)}),e.motherName&&(t.has(e.motherName)||t.set(e.motherName,{label:e.motherName,class:"anothers female"}),a.push([{v:e.motherName,w:e.name},{class:"mother"}])),e.fatherName&&(t.has(e.fatherName)||t.set(e.fatherName,{label:e.fatherName,class:"anothers male"}),a.push([{v:e.fatherName,w:e.name},{class:"father"}])))})),{nodes:Array.from(t.entries()),edges:a}}(t)}),[t]);return Object(c.useEffect)((function(){if(e.current){var t=h.select(e.current);if(t.selectAll("g").remove(),0!==a.nodes.length||0!==a.edges.length){var n=(new f.graphlib.Graph).setGraph({rankdir:"LR"}).setDefaultEdgeLabel((function(){return{}}));a.nodes.forEach((function(e){n.setNode(e[0],e[1])})),n.nodes().forEach((function(e){var t=n.node(e);t.rx=t.ry=5})),a.edges.forEach((function(e){n.setEdge(e[0],e[1])}));var r=new f.render,s=t.append("g"),o=h.zoom().on("zoom",(function(){s.attr("transform",h.event.transform)}));t.call(o),r(h.select("svg g"),n);var c=(Number(t.attr("width"))-(n.graph().width||0))/2;s.attr("transform","translate(".concat(Number.isNaN(c)?0:c,", 20)"))}}}),[e,a]),Object(n.jsx)(c.Fragment,{children:Object(n.jsx)("svg",{className:"d3-component mottv-derby-family",width:"100%",height:"70vh",ref:e})})}),l=function(){return Object(n.jsxs)(r.a,{children:[Object(n.jsx)(s.a,{variant:"h4",children:"\u7cfb\u56f3"}),Object(n.jsx)(o.a,{children:Object(n.jsx)(i,{})})]})}}}]);
//# sourceMappingURL=5.72108b52.chunk.js.map
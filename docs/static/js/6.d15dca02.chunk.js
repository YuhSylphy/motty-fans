(this["webpackJsonpmotty-fans"]=this["webpackJsonpmotty-fans"]||[]).push([[6],{648:function(e,n,t){"use strict";t.r(n),t.d(n,"MareLine",(function(){return A}));var a=t(3),r=t(0),c=t(274),s=t(302),o=t(63),i=t(158),u=t(114),l=t(142),m=t(296),j=t(650),f=t(647),d=t(454),b=t.n(d),h=t(455),O=t.n(h),x=t(456),p=t.n(x),N=t(451),v=t.n(N),g=t(446),w=t(453),k=t(22),y=t(42),F=t(82),I=Object(c.a)((function(e){return Object(s.a)({root:{"& .name":{marginLeft:e.spacing(.5)},"& .father":{marginLeft:e.spacing(1)},"& .male":{color:"#2196f3"},"& .female":{color:"#f44336"},"& .unknown":{color:"#888888"}}})})),M=function(e){var n=e.name,t=Object(k.b)(),c=Object(r.useMemo)((function(){return function(){t(F.b.push(n))}}),[t,n]);return Object(a.jsx)(m.a,{"aria-label":"horse info",size:"small",onClick:c,children:Object(a.jsx)(v.a,{fontSize:"inherit"})})},E=function(e){var n=new Map,t=function(e){var t;return null!==(t=n.get(e))&&void 0!==t?t:function(){var t={id:e,label:Object(a.jsx)(r.Fragment,{}),children:[],owned:!1};return n.set(e,t),t}()};return e.forEach((function(e){var n=t(e.name);(function(e,n){var t,c;e.owned=e.owned||n.owned,e.className=[n.sex].join(" "),e.label=Object(a.jsxs)(r.Fragment,{children:[function(){switch(n.sex){case"male":return Object(a.jsx)(g.a,{icon:w.a});case"female":return Object(a.jsx)(g.a,{icon:w.c});case"unknown":return Object(a.jsx)(g.a,{icon:w.b});default:n.sex}}(),Object(a.jsxs)("span",{className:"name",children:[n.name,Object(a.jsx)(M,{name:n.name})]}),n.fatherName?Object(a.jsxs)(r.Fragment,{children:["(",Object(a.jsxs)("span",{className:"father male",children:[n.fatherName,Object(a.jsx)(M,{name:n.fatherName})]}),")"]}):null]}),e.fatherName=null!==(t=n.fatherName)&&void 0!==t?t:e.fatherName,e.motherName=null!==(c=n.motherName)&&void 0!==c?c:e.fatherName}(n,e),e.motherName)&&t(e.motherName).children.push(n)})),{nodes:Array.from(n.values()).filter((function(e){var t;return e.owned&&(!e.motherName||!n.has(e.motherName)||n.has(e.motherName)&&!(null===(t=n.get(e.motherName))||void 0===t?void 0:t.owned))})),ids:Array.from(n.keys())}},C=function e(n){return function(t){return Object(a.jsx)(j.a,{className:t.className,nodeId:t.id,label:t.label,onIconClick:n(t),children:t.children.map(e(n))},t.id)}},L=function(){var e=I(),n=Object(k.b)(),t=Object(r.useState)([]),c=Object(l.a)(t,2),s=c[0],o=c[1],i=Object(k.c)((function(e){return e.horseDefs.list})),m=Object(r.useMemo)((function(){return i.length>0?Object(y.c)(n)("mare-line/init")((function(){return E(i)})):{nodes:[],ids:[]}}),[n,i]),j=m.nodes,d=m.ids;Object(r.useEffect)((function(){o(d)}),[o,d]);var h=Object(r.useMemo)((function(){return function(e){return function(n){o(s.includes(e.id)?s.filter((function(n){return n!==e.id})):[].concat(Object(u.a)(s),[e.id]))}}}),[s,o]);return Object(a.jsx)(r.Fragment,{children:Object(a.jsx)(f.a,{className:e.root,expanded:s,defaultCollapseIcon:Object(a.jsx)(b.a,{}),defaultExpandIcon:Object(a.jsx)(O.a,{}),defaultEndIcon:Object(a.jsx)(p.a,{}),children:j.map(C(h))})})},z=Object(c.a)((function(e){return Object(s.a)({paper:{padding:e.spacing(2)}})})),A=function(){var e=z();return Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)(o.a,{variant:"h4",children:"\u725d\u7cfb\u56f3"}),Object(a.jsx)(i.a,{className:e.paper,children:Object(a.jsx)(L,{})})]})}}}]);
//# sourceMappingURL=6.d15dca02.chunk.js.map
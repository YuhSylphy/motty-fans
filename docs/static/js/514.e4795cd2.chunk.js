"use strict";(self.webpackChunkmotty_fans=self.webpackChunkmotty_fans||[]).push([[514],{8514:function(e,t,r){r.r(t),r.d(t,{Family:function(){return u}});var n=r(1971),a=r(8302),s=r(9526),o=r(2791),c=r(6262),h=r(4572),f=r(9632),m=r(184),l=function(){var e=(0,o.useRef)(null),t=(0,f.CG)((function(e){return e.horseDefs.list})),r=(0,o.useMemo)((function(){return function(e){var t=new Map,r=[];return e.forEach((function(e){(e.owned||e.listed)&&(t.set(e.name,{label:e.name,class:"owned ".concat(e.sex)}),e.motherName&&(t.has(e.motherName)||t.set(e.motherName,{label:e.motherName,class:"anothers female"}),r.push([{v:e.motherName,w:e.name},{class:"mother"}])),e.fatherName&&(t.has(e.fatherName)||t.set(e.fatherName,{label:e.fatherName,class:"anothers male"}),r.push([{v:e.fatherName,w:e.name},{class:"father"}])))})),{nodes:Array.from(t.entries()),edges:r}}(t)}),[t]);return(0,o.useEffect)((function(){if(e.current){var t=c.select(e.current);if(t.selectAll("g").remove(),0!==r.nodes.length||0!==r.edges.length){var n=(new h.graphlib.Graph).setGraph({rankdir:"LR"}).setDefaultEdgeLabel((function(){return{}}));r.nodes.forEach((function(e){n.setNode(e[0],e[1])})),n.nodes().forEach((function(e){var t=n.node(e);t.rx=t.ry=5})),r.edges.forEach((function(e){n.setEdge(e[0],e[1])}));var a=new h.render,s=t.append("g"),o=c.zoom().on("zoom",(function(){s.attr("transform",c.event.transform)}));t.call(o),a(c.select("svg g"),n);var f=(Number(t.attr("width"))-(n.graph().width||0))/2;s.attr("transform","translate(".concat(Number.isNaN(f)?0:f,", 20)"))}}}),[e,r]),(0,m.jsx)(o.Fragment,{children:(0,m.jsx)("svg",{className:"d3-component mottv-derby-family",width:"100%",height:"70vh",ref:e})})},u=function(){return(0,m.jsxs)(n.Z,{children:[(0,m.jsx)(a.Z,{variant:"h4",children:"\u7cfb\u56f3"}),(0,m.jsx)(s.Z,{children:(0,m.jsx)(l,{})})]})}}}]);
//# sourceMappingURL=514.e4795cd2.chunk.js.map
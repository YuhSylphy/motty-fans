"use strict";(self.webpackChunkmotty_fans=self.webpackChunkmotty_fans||[]).push([[471],{6534:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var n=r(6261),a=r(4554),s=r(890),o=r(703),c=r(2791),f=r(4603),u=r(6262),h=r(4572),i=r(9632),l=r(184),m=function(){var e=(0,c.useRef)(null),t=(0,i.CG)((function(e){return e.horseDefs.list})),r=(0,c.useMemo)((function(){return function(e){var t=new Map,r=[];return e.forEach((function(e){(e.owned||e.listed)&&(t.set(e.name,{label:e.name,class:"owned ".concat(e.sex)}),e.motherName&&(t.has(e.motherName)||t.set(e.motherName,{label:e.motherName,class:"anothers female"}),r.push([{v:e.motherName,w:e.name},{class:"mother"}])),e.fatherName&&(t.has(e.fatherName)||t.set(e.fatherName,{label:e.fatherName,class:"anothers male"}),r.push([{v:e.fatherName,w:e.name},{class:"father"}])))})),{nodes:Array.from(t.entries()),edges:r}}(t)}),[t]);return(0,c.useEffect)((function(){if(e.current){var t=u.select(e.current);if(t.selectAll("g").remove(),0!==r.nodes.length||0!==r.edges.length){var n=(new h.graphlib.Graph).setGraph({rankdir:"LR"}).setDefaultEdgeLabel((function(){return{}}));r.nodes.forEach((function(e){n.setNode(e[0],e[1])})),n.nodes().forEach((function(e){var t=n.node(e);t.rx=t.ry=5})),r.edges.forEach((function(e){n.setEdge(e[0],e[1])}));var a=new h.render,s=t.append("g"),o=u.zoom().on("zoom",(function(){s.attr("transform",u.event.transform)}));t.call(o),a(u.select("svg g"),n);var c=(Number(t.attr("width"))-(n.graph().width||0))/2;s.attr("transform","translate(".concat(Number.isNaN(c)?0:c,", 20)"))}}}),[e,r]),(0,l.jsx)(c.Fragment,{children:(0,l.jsx)("svg",{className:"d3-component mottv-derby-family",width:"100%",height:"70vh",ref:e})})},d=r(2735);(0,n.mb)(d.V);var v=function(){return(0,l.jsx)(f.Z1,{children:(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(s.Z,{variant:"h4",children:"\u7cfb\u56f3"}),(0,l.jsx)(o.Z,{children:(0,l.jsx)(m,{})})]})})}},2735:function(e,t,r){r.d(t,{V:function(){return i}});var n=r(3032),a=r(4322),s=r.n(a),o=r(1441),c=r(4013),f=r(9632),u=r(4603),h=r(2234),i=(0,o.l)((function(e){return e.pipe((0,c.h)(u.Q_.init.match),(0,f.vi)("horse-defs/fetch",(0,n.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u.Q_,e.next=3,(0,h.r)();case 3:return e.t1=e.sent,e.t2={list:e.t1},e.abrupt("return",e.t0.set.call(e.t0,e.t2));case 6:case"end":return e.stop()}}),e)})))))}))}}]);
//# sourceMappingURL=family.164da15c.chunk.js.map
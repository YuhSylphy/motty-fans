"use strict";(self.webpackChunkmotty_fans=self.webpackChunkmotty_fans||[]).push([[360],{6360:function(e,n,r){r.r(n),r.d(n,{MareLine:function(){return F}});var a=r(2791),t=r(8596),s=r(6330),o=r(8302),i=r(9526),c=r(1303),u=r(678),l=r(7025),m=r(912),f=r(8842),d=r(7595),h=r(745),x=r(8111),j=r(1015),p=r(4483),N=r(3174),v=r(9632),Z=r(2200),g=r(184),w=(0,t.Z)((function(e){return(0,s.Z)({root:{"& .name":{marginLeft:e.spacing(.5)},"& .father":{marginLeft:e.spacing(1)},"& .male":{color:"#2196f3"},"& .female":{color:"#f44336"},"& .unknown":{color:"#888888"}}})})),b=function(e){var n=e.name,r=(0,v.TL)(),t=(0,a.useMemo)((function(){return function(){r(Z.bL.push(n))}}),[r,n]);return(0,g.jsx)(l.Z,{"aria-label":"horse info",size:"small",onClick:t,children:(0,g.jsx)(j.Z,{fontSize:"inherit"})})},k=function(e){var n=new Map,r=function(e){var r;return null!==(r=n.get(e))&&void 0!==r?r:function(){var r={id:e,label:(0,g.jsx)(a.Fragment,{}),children:[],owned:!1};return n.set(e,r),r}()};return e.forEach((function(e){var n=r(e.name);(function(e,n){var r,t;e.owned=e.owned||n.owned,e.className=[n.sex].join(" "),e.label=(0,g.jsxs)(a.Fragment,{children:[function(){switch(n.sex){case"male":return(0,g.jsx)(p.G,{icon:N.Aci});case"female":return(0,g.jsx)(p.G,{icon:N.hTh});case"unknown":return(0,g.jsx)(p.G,{icon:N.Psp});default:n.sex}}(),(0,g.jsxs)("span",{className:"name",children:[n.name,(0,g.jsx)(b,{name:n.name})]}),n.fatherName?(0,g.jsxs)(a.Fragment,{children:["(",(0,g.jsxs)("span",{className:"father male",children:[n.fatherName,(0,g.jsx)(b,{name:n.fatherName})]}),")"]}):null]}),e.fatherName=null!==(r=n.fatherName)&&void 0!==r?r:e.fatherName,e.motherName=null!==(t=n.motherName)&&void 0!==t?t:e.fatherName}(n,e),e.motherName)&&r(e.motherName).children.push(n)})),{nodes:Array.from(n.values()).filter((function(e){var r;return e.owned&&(!e.motherName||!n.has(e.motherName)||n.has(e.motherName)&&!(null!==(r=n.get(e.motherName))&&void 0!==r&&r.owned))})),ids:Array.from(n.keys())}},C=function e(n){return function(r){return(0,g.jsx)(m.Z,{className:r.className,nodeId:r.id,label:r.label,onIconClick:n(r),children:r.children.map(e(n))},r.id)}},L=function(){var e=w(),n=(0,v.TL)(),r=(0,a.useState)([]),t=(0,u.Z)(r,2),s=t[0],o=t[1],i=(0,v.CG)((function(e){return e.horseDefs.list})),l=(0,a.useMemo)((function(){return i.length>0?(0,v.lb)(n)("mare-line/init")((function(){return k(i)})):{nodes:[],ids:[]}}),[n,i]),m=l.nodes,j=l.ids;(0,a.useEffect)((function(){o(j)}),[o,j]);var p=(0,a.useMemo)((function(){return function(e){return function(n){o(s.includes(e.id)?s.filter((function(n){return n!==e.id})):[].concat((0,c.Z)(s),[e.id]))}}}),[s,o]);return(0,g.jsx)(a.Fragment,{children:(0,g.jsx)(f.Z,{className:e.root,expanded:s,defaultCollapseIcon:(0,g.jsx)(d.Z,{}),defaultExpandIcon:(0,g.jsx)(h.Z,{}),defaultEndIcon:(0,g.jsx)(x.Z,{}),children:m.map(C(p))})})},y=(0,t.Z)((function(e){return(0,s.Z)({paper:{padding:e.spacing(2)}})})),F=function(){var e=y();return(0,g.jsxs)(a.Fragment,{children:[(0,g.jsx)(o.Z,{variant:"h4",children:"\u725d\u7cfb\u56f3"}),(0,g.jsx)(i.Z,{className:e.paper,children:(0,g.jsx)(L,{})})]})}}}]);
//# sourceMappingURL=360.3a4dd2db.chunk.js.map
{"version":3,"sources":["features/changelog/components/ChangeLog.tsx","features/changelog/core/ducks.ts","features/changelog/core/epic.ts","features/changelog/core/logic.ts","serviceWorker.ts","index.tsx","features/horse-defs/core/ducks.ts","features/horse-defs/core/horse.ts","features/horse-defs/core/epic.ts","util/index.ts","features/indicator/core/ducks.ts","features/indicator/core/util.ts","features/indicator/components/Indicator.tsx","app/core/store.ts","features/errors/404.tsx","app/components/App.tsx","features/pedigree/core/ducks.ts","features/pedigree/component/PedigreeTable.tsx","features/pedigree/component/PedigreeDialog.tsx"],"names":["useStyles","makeStyles","theme","createStyles","paper","padding","spacing","ChangeLog","classes","dispatch","useAppDispatch","article","useSelector","state","changeLog","useEffect","changeLogActions","init","Paper","className","source","slice","createSlice","name","initialState","reducers","set","draft","action","payload","actions","reducer","epic","combineEpics","action$","pipe","filter","match","withIndicator","a","fetch","process","then","res","text","Boolean","window","location","hostname","createMuiTheme","ReactDOM","render","StrictMode","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message","horseDefsSlice","list","lineMap","Uk","label","Ec","Ph","Ns","Ro","Ne","Na","Fa","To","Te","Sw","Ha","Hi","St","Ma","He","flatten","def","sex","listed","childName","show","fathers","father","mothers","mother","line","owned","fatherName","motherName","memo","flat","fetchOwned","json","data","removed","map","fetchBroodmare","fetchStallion","horseDefsActions","of","mergeMap","func","mergeAll","groupBy","group","reduce","lhs","rhs","toArray","tap","defs","m","Map","forEach","complementLine","get","warn","toPromise","awaits","open","key","close","target","rest","indicatorActions","input","concat","defer","withIndicatorSync","backdrop","zIndex","drawer","color","Indicator","indicator","waiting","useMemo","Object","values","some","x","Backdrop","CircularProgress","epicMiddleware","createEpicMiddleware","dependencies","configureStore","horseDefs","horseDefsReducer","indicatorReducer","pedigree","pedigreeReducer","changeLogReducer","middleware","getDefaultMiddleware","thunk","epics","push","run","registerEpic","horseDefsEpic","changeLogEpic","useDispatch","Http404","renderListItem","ListItem","button","component","Link","to","path","ListItemIcon","icon","ListItemText","primary","Page","React","lazy","module","default","MareLine","Timeline","Family","ChangeHistory","MenuList","toggleMenu","List","onClick","onKeyDown","Header","useState","menuOpen","setMenuOpen","Fragment","AppBar","position","Toolbar","IconButton","edge","aria-label","MenuOutlined","Typography","variant","Drawer","onClose","Footer","useTheme","Box","display","justifyContent","margin","href","App","basename","fallback","exact","displays","pop","_","length","clear","table","backgroundColor","palette","contrastText","cols","row","TableRow","ix","cell","col","threshold","limit","flatMap","join","TableCell","rowSpan","renderCell","PedigreeTable","array","Array","generation","mapPedigree","construct","TableContainer","Table","size","TableBody","PedigreeDialog","find","handleClose","pedigreeActions","Dialog","DialogTitle","style","paddingLeft"],"mappings":"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","file":"static/js/main.04e44abd.chunk.js","sourcesContent":["import { Paper, createStyles, makeStyles } from '@material-ui/core';\nimport * as React from 'react';\nimport { useEffect } from 'react';\nimport Markdown from 'react-markdown';\nimport { useSelector } from 'react-redux';\nimport 'github-markdown-css';\n\nimport { RootState } from 'src/app';\nimport { useAppDispatch } from 'src/util';\n\nimport { changeLogActions } from '..';\n\nconst useStyles = makeStyles((theme) =>\n\tcreateStyles({\n\t\tpaper: {\n\t\t\tpadding: theme.spacing(1),\n\t\t},\n\t})\n);\n\nexport const ChangeLog: React.FC = () => {\n\tconst classes = useStyles();\n\tconst dispatch = useAppDispatch();\n\n\tconst { article } = useSelector((state: RootState) => state.changeLog);\n\tuseEffect(() => {\n\t\tdispatch(changeLogActions.init());\n\t}, [dispatch]);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t{article !== '' ? (\n\t\t\t\t\t<Markdown source={article} className=\"markdown-body\" />\n\t\t\t\t) : null}\n\t\t\t</Paper>\n\t\t</React.Fragment>\n\t);\n};\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nexport type ChangeLogState = {\n\tarticle: string;\n};\n\nconst slice = createSlice({\n\tname: 'change-log',\n\tinitialState: { article: '' } as ChangeLogState,\n\treducers: {\n\t\tinit: () => {},\n\t\tset: (draft, action: PayloadAction<ChangeLogState['article']>) => {\n\t\t\tdraft.article = action.payload;\n\t\t},\n\t},\n});\n\nexport const { actions, reducer } = slice;\nexport type ChangeLogAction = ReturnType<typeof actions[keyof typeof actions]>;\n","import { combineEpics } from 'redux-observable';\nimport { filter } from 'rxjs/operators';\n\nimport type { Epic } from 'src/app';\nimport { withIndicator } from 'src/util';\n\nimport { changeLogActions } from '..';\nimport { fetchChangeLogs } from './logic';\n\nexport const fetchDefsEpic: Epic = (action$) =>\n\taction$.pipe(\n\t\tfilter(changeLogActions.init.match),\n\t\twithIndicator('change-logs/fetch', async () =>\n\t\t\tchangeLogActions.set(await fetchChangeLogs())\n\t\t)\n\t);\n\nexport const epic = combineEpics(fetchDefsEpic);\n","export const fetchChangeLogs = () =>\n\tfetch(`${process.env.PUBLIC_URL}/assets/change-log.md`).then((res) =>\n\t\tres.text()\n\t);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n);\n\ntype Config = {\n\tonSuccess?: (registration: ServiceWorkerRegistration) => void;\n\tonUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' },\n\t})\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready\n\t\t\t.then((registration) => {\n\t\t\t\tregistration.unregister();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(error.message);\n\t\t\t});\n\t}\n}\n","import { createMuiTheme, MuiThemeProvider } from '@material-ui/core';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport './index.css';\n\nimport { App, store } from './app';\nimport * as serviceWorker from './serviceWorker';\n\nconst theme = createMuiTheme({});\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<MuiThemeProvider theme={theme}>\n\t\t\t<Provider store={store}>\n\t\t\t\t<App />\n\t\t\t</Provider>\n\t\t</MuiThemeProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { HorseDef } from './horse';\n\nexport type HorseDefState = {\n\tlist: HorseDef[];\n};\n\nconst horseDefsSlice = createSlice({\n\tname: 'horseDefs',\n\tinitialState: { list: [] as HorseDef[] },\n\treducers: {\n\t\tinit: () => {},\n\t\tset: (draft, action: PayloadAction<HorseDefState>) => {\n\t\t\tdraft.list = action.payload.list;\n\t\t},\n\t},\n});\n\nexport const { actions, reducer } = horseDefsSlice;\nexport type HorseDefsAction = ReturnType<typeof actions[keyof typeof actions]>;\n","import { of } from 'rxjs';\nimport {\n\tgroupBy,\n\tmergeAll,\n\tmergeMap,\n\ttoArray,\n\treduce,\n\ttap,\n} from 'rxjs/operators';\n\nexport type Sex = 'male' | 'female' | 'unknown';\n\nexport type Line =\n\t| 'Uk' // 不明(指定なし)\n\t| 'Ec' // エクリプス系\n\t| 'Ph' // ファラリス系\n\t| 'Ns' // ナスルーラ系\n\t| 'Ro' // ロイヤルチャージャー系\n\t| 'Ne' // ニアークティック系\n\t| 'Na' // ネイティヴダンサー系\n\t| 'Fa' // フェアウェイ系\n\t| 'To' // トムフール系\n\t| 'Te' // テディ系\n\t| 'Sw' // スインフォード系\n\t| 'Ha' // ハンプトン系\n\t| 'Hi' // ヒムヤー系\n\t| 'St' // セントサイモン系\n\t| 'Ma' // マッチェム系\n\t| 'He'; // ヘロド系\n\nexport const lineMap: { [key in Line]: { label: string } } = {\n\tUk: { label: '不明(指定なし)' },\n\tEc: { label: 'エクリプス' },\n\tPh: { label: 'ファラリス' },\n\tNs: { label: 'ナスルーラ' },\n\tRo: { label: 'ロイヤルチャージャー' },\n\tNe: { label: 'ニアークティック' },\n\tNa: { label: 'ネイティヴダンサー' },\n\tFa: { label: 'フェアウェイ' },\n\tTo: { label: 'トムフール' },\n\tTe: { label: 'テディ' },\n\tSw: { label: 'スインフォード' },\n\tHa: { label: 'ハンプトン' },\n\tHi: { label: 'ヒムヤー' },\n\tSt: { label: 'セントサイモン' },\n\tMa: { label: 'マッチェム' },\n\tHe: { label: 'ヘロド' },\n};\n\nexport type HorseDef = {\n\t/** 名称: ID代わり */\n\tname: string;\n\t/** 父親名 */\n\tfatherName?: string;\n\t/** 母親名 */\n\tmotherName?: string;\n\t/** 性別 */\n\tsex: Sex;\n\t/** 系統 */\n\tline: Line;\n\t/** 種牡馬/繁殖牝馬一覧に載っているか */\n\tlisted: boolean;\n\t/** 所有馬 */\n\towned: boolean;\n\t/** 表示すべきか */\n\tshow: boolean;\n\t/** メモ */\n\tmemo: string[];\n};\n\ntype AnscestorHorse = {\n\tname?: string;\n\tfather?: AnscestorHorse;\n\tmother?: AnscestorHorse;\n\tline?: Line;\n};\ninterface ListedAnscestor extends AnscestorHorse {\n\tname: Exclude<AnscestorHorse['name'], undefined>;\n\tfather: Exclude<AnscestorHorse['father'], undefined>;\n\tmother: Exclude<AnscestorHorse['mother'], undefined>;\n}\n\n/**\n * 種牡馬・繁殖牝馬リストを競走馬一覧にflattenして返す\n * @param def\n * @param param1\n */\nconst flatten = (\n\tdef: AnscestorHorse,\n\t{ sex, listed, childName }: { sex: Sex; listed?: boolean; childName: string }\n): HorseDef[] => {\n\tconst name =\n\t\tdef.name ??\n\t\t`${childName}${sex === 'female' ? '母' : sex === 'male' ? '父' : '親'}`;\n\tconst show = def.name !== void 0;\n\n\tconst fathers = def.father\n\t\t? flatten(def.father, { sex: 'male', childName: name })\n\t\t: [];\n\tconst mothers = def.mother\n\t\t? flatten(def.mother, { sex: 'female', childName: name })\n\t\t: [];\n\tconst line = def.line ?? fathers?.[0]?.line ?? 'Uk';\n\n\tconst target: HorseDef = {\n\t\tname,\n\t\tline,\n\t\tlisted: !!listed,\n\t\towned: false,\n\t\tshow,\n\t\tfatherName: fathers?.[0]?.name,\n\t\tmotherName: mothers?.[0]?.name,\n\t\tmemo: [],\n\t\tsex,\n\t};\n\n\treturn [target, fathers, mothers].flat();\n};\n\nconst fetchOwned =\n\t// 所有馬\n\t(): Promise<HorseDef[]> =>\n\t\tfetch(`${process.env.PUBLIC_URL}/assets/horse-defs.json`)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data: (HorseDef & { removed?: boolean })[]) =>\n\t\t\t\tdata\n\t\t\t\t\t.filter((def) => !def.removed)\n\t\t\t\t\t.map((def) => ({\n\t\t\t\t\t\t...def,\n\t\t\t\t\t\tlisted: !!def.listed,\n\t\t\t\t\t\towned: true,\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\tmemo: def.memo ?? [],\n\t\t\t\t\t}))\n\t\t\t);\n\n/**\n * 繁殖牝馬リスト\n */\nconst fetchBroodmare = (): Promise<HorseDef[]> =>\n\tfetch(`${process.env.PUBLIC_URL}/assets/broodmares.json`)\n\t\t.then((res) => res.json())\n\t\t.then((data: ListedAnscestor[]) =>\n\t\t\tdata\n\t\t\t\t.map((def) =>\n\t\t\t\t\tflatten(def, { sex: 'female', listed: true, childName: 'N/A' })\n\t\t\t\t)\n\t\t\t\t.flat()\n\t\t);\n\n/**\n * 種牡馬リスト\n */\nconst fetchStallion = (): Promise<HorseDef[]> =>\n\tfetch(`${process.env.PUBLIC_URL}/assets/stallions.json`)\n\t\t.then((res) => res.json())\n\t\t.then((data: ListedAnscestor[]) =>\n\t\t\tdata\n\t\t\t\t.map((def) =>\n\t\t\t\t\tflatten(def, { sex: 'male', listed: true, childName: 'N/A' })\n\t\t\t\t)\n\t\t\t\t.flat()\n\t\t);\n\n/**\n * 競走馬の定義を取得してマージする\n */\nexport const fetchHorseDefs = (): Promise<HorseDef[]> =>\n\tof(fetchOwned, fetchStallion, fetchBroodmare)\n\t\t.pipe(\n\t\t\tmergeMap((func) => func()),\n\t\t\tmergeAll(),\n\t\t\tgroupBy((def) => def.name),\n\t\t\tmergeMap((group) =>\n\t\t\t\tgroup.pipe(\n\t\t\t\t\treduce((lhs, rhs) => ({\n\t\t\t\t\t\tname: lhs.name ?? rhs.name,\n\t\t\t\t\t\tsex: lhs.sex ?? rhs.sex,\n\t\t\t\t\t\tlisted: lhs.listed || rhs.listed,\n\t\t\t\t\t\tshow: lhs.show || rhs.show,\n\t\t\t\t\t\towned: lhs.owned || rhs.owned,\n\t\t\t\t\t\tline: lhs.line === 'Uk' ? rhs.line : lhs.line,\n\t\t\t\t\t\tmemo: [...lhs.memo, ...rhs.memo],\n\t\t\t\t\t\tfatherName: lhs.fatherName ?? rhs.fatherName,\n\t\t\t\t\t\tmotherName: lhs.motherName ?? rhs.motherName,\n\t\t\t\t\t}))\n\t\t\t\t)\n\t\t\t),\n\t\t\ttoArray(),\n\t\t\ttap((defs) => {\n\t\t\t\tconst m = new Map<string, HorseDef>(defs.map((def) => [def.name, def]));\n\n\t\t\t\t/** lineがUnknownのものを父親の情報から保完する */\n\t\t\t\tconst complementLine = (def: HorseDef) => {\n\t\t\t\t\t// 対応不要\n\t\t\t\t\tif (def.line && def.line !== 'Uk') {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// 父親が後ろにいるかも知れないので先に再帰しておく\n\t\t\t\t\tif (def.fatherName) {\n\t\t\t\t\t\tconst father = m.get(def.fatherName);\n\t\t\t\t\t\tif (father) {\n\t\t\t\t\t\t\tcomplementLine(father);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t\t\t`${def.fatherName}: father of ${def.name} doesnt exist in list`,\n\t\t\t\t\t\t\t\tdef,\n\t\t\t\t\t\t\t\tm\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// それでも未確定ならUkに設定\n\t\t\t\t\tdef.line = m.get(def.fatherName || '')?.line ?? 'Uk';\n\n\t\t\t\t\tif (def.line === 'Uk') {\n\t\t\t\t\t\tconsole.warn(`couldnt determine line of ${def.name}`);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tdefs.forEach(complementLine);\n\t\t\t})\n\t\t)\n\t\t.toPromise();\n","import { combineEpics } from 'redux-observable';\nimport { filter } from 'rxjs/operators';\n\nimport type { Epic } from 'src/app';\nimport { withIndicator } from 'src/util';\n\nimport { horseDefsActions } from '..';\nimport { fetchHorseDefs } from './horse';\n\nexport const fetchDefsEpic: Epic = (action$) =>\n\taction$.pipe(\n\t\tfilter(horseDefsActions.init.match),\n\t\twithIndicator('horse-defs/fetch', async () =>\n\t\t\thorseDefsActions.set({ list: await fetchHorseDefs() })\n\t\t)\n\t);\n\nexport const epic = combineEpics(fetchDefsEpic);\n","export { withIndicator, withIndicatorSync } from 'src/features/indicator';\nexport { registerEpic, useAppDispatch } from 'src/app';\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nexport type IndicatorState = {\n\tawaits: { [key: string]: number };\n};\n\nconst slice = createSlice({\n\tname: 'indicator',\n\tinitialState: { awaits: {} } as IndicatorState,\n\treducers: {\n\t\tset: (draft, action: PayloadAction<IndicatorState['awaits']>) => {\n\t\t\tdraft.awaits = action.payload;\n\t\t},\n\t\topen: (draft, { payload: key }: PayloadAction<string>) => {\n\t\t\tdraft.awaits = {\n\t\t\t\t...draft.awaits,\n\t\t\t\t[key]: 1 + (key in draft.awaits ? draft.awaits[key] : 0),\n\t\t\t};\n\t\t},\n\t\tclose: (draft, { payload: key }: PayloadAction<string>) => {\n\t\t\tif (!(key in draft.awaits)) {\n\t\t\t\tconsole.warn(`there isnt key [${key}] in `);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { [key]: target, ...rest } = draft.awaits;\n\t\t\tdraft.awaits = {\n\t\t\t\t...rest,\n\t\t\t\t...(target > 1 ? { [key]: target - 1 } : {}),\n\t\t\t};\n\t\t},\n\t},\n});\n\nexport const { actions, reducer } = slice;\nexport type IndicatorAction = ReturnType<typeof actions[keyof typeof actions]>;\n","import {\n\tOperatorFunction,\n\tObservableInput,\n\tObservedValueOf,\n\tof,\n\tdefer,\n\tconcat,\n} from 'rxjs';\nimport { mergeMap } from 'rxjs/operators';\nimport { Dispatch } from 'react';\nimport { Action, AnyAction } from 'redux';\nimport { indicatorActions, IndicatorAction } from '..';\n\nconst { open, close } = indicatorActions;\n// export const withIndicator = <T extends Action>(\n//   label: string\n// ): OperatorFunction<T, T | IndicatorAction> => (action$) =>\n//   action$.pipe(startWith(open(label)), endWith(close(label)));\nexport const withIndicator = <\n\tT extends Action,\n\tO extends ObservableInput<Action>\n>(\n\tlabel: string,\n\tinput: (action: T) => O\n): OperatorFunction<T, ObservedValueOf<O> | IndicatorAction> => (action$) =>\n\taction$.pipe(\n\t\tmergeMap((action) =>\n\t\t\tconcat(\n\t\t\t\tof(open(label)),\n\t\t\t\tdefer(() => input(action)),\n\t\t\t\tof(close(label))\n\t\t\t)\n\t\t)\n\t);\n//   action$.pipe(\n//     mergeMap((action) =>\n//       concat(\n//         of(open(label)),\n//         defer(() => input(action)),\n//         of(endWith(close(label)))\n//       )\n//     )\n//   );\n\nexport const withIndicatorSync = (dispatch: Dispatch<AnyAction>) => (\n\tlabel: string\n) => <R>(func: () => R) => {\n\ttry {\n\t\tdispatch(open(label));\n\t\treturn func();\n\t} finally {\n\t\tdispatch(close(label));\n\t}\n};\n\nexport const withIndicatorAsync = (dispatch: Dispatch<AnyAction>) => (\n\tlabel: string\n) => <R>(func: () => PromiseLike<R>) => {\n\treturn new Promise(() => {\n\t\tdispatch(open(label));\n\t})\n\t\t.then(func)\n\t\t.finally(() => {\n\t\t\tdispatch(close(label));\n\t\t});\n};\n","import { Backdrop, CircularProgress, makeStyles } from '@material-ui/core';\nimport React, { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { RootState } from 'src/app';\n\nconst useStyles = makeStyles((theme) => ({\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: '#fff',\n\t},\n}));\n\nexport const Indicator: React.FC = () => {\n\tconst classes = useStyles();\n\tconst { awaits } = useSelector((state: RootState) => state.indicator);\n\n\tconst waiting = useMemo(() => Object.values(awaits).some((x) => x > 0), [\n\t\tawaits,\n\t]);\n\n\treturn (\n\t\t<Backdrop className={classes.backdrop} open={waiting}>\n\t\t\t<CircularProgress color=\"inherit\" />\n\t\t</Backdrop>\n\t);\n};\n","import { configureStore } from '@reduxjs/toolkit';\nimport { useDispatch } from 'react-redux';\nimport { combineEpics, createEpicMiddleware } from 'redux-observable';\n\nimport { horseDefsReducer, horseDefsEpic } from 'src/features/horse-defs';\nimport { indicatorReducer } from 'src/features/indicator';\nimport { pedigreeReducer } from 'src/features/pedigree';\nimport { changeLogReducer, changeLogEpic } from 'src/features/changelog';\n\nimport type { AppAction } from './actions';\n\nconst dependencies = {};\nconst epicMiddleware = createEpicMiddleware<\n\tAppAction,\n\tAppAction,\n\tvoid,\n\tDependencies\n>({\n\tdependencies,\n});\n\nexport const store = configureStore({\n\treducer: {\n\t\thorseDefs: horseDefsReducer,\n\t\tindicator: indicatorReducer,\n\t\tpedigree: pedigreeReducer,\n\t\tchangeLog: changeLogReducer,\n\t},\n\tmiddleware: (getDefaultMiddleware) =>\n\t\tgetDefaultMiddleware({\n\t\t\tthunk: false,\n\t\t}).concat([epicMiddleware]),\n});\n\nexport type Dependencies = typeof dependencies;\nexport type Epic = Parameters<typeof epicMiddleware.run>[0];\nexport type RootState = ReturnType<typeof store.getState>;\n\nconst epics: Epic[] = [];\nexport const registerEpic = (...es: Epic[]) => {\n\tepics.push(...es);\n\tepicMiddleware.run(combineEpics(...epics));\n};\n\nregisterEpic(horseDefsEpic, changeLogEpic);\n\nexport type AppDispatch = typeof store.dispatch;\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\n","import * as React from 'react';\n\nexport const Http404: React.FC = () => {\n\treturn <h2>404 NOT FOUND</h2>;\n};\n","import {\n\tAppBar,\n\tBox,\n\tDrawer,\n\tIconButton,\n\tLink as Anchor,\n\tList,\n\tListItem,\n\tListItemIcon,\n\tListItemText,\n\tToolbar,\n\tTypography,\n\tuseTheme,\n} from '@material-ui/core';\nimport {\n\tList as ListIcon,\n\tMenuOutlined,\n\tTimeline as TimelineIcon,\n\tChangeHistory as ChangeHistoryIcon,\n} from '@material-ui/icons';\nimport React, { Suspense, useEffect, useMemo, useState } from 'react';\nimport { Redirect, Route, Switch } from 'react-router';\nimport { BrowserRouter, Link } from 'react-router-dom';\n\nimport { useAppDispatch } from 'src/util';\n\nimport { Http404 } from 'src/features/errors/404';\nimport { horseDefsActions } from 'src/features/horse-defs';\nimport { Indicator } from 'src/features/indicator';\nimport { PedigreeDialog } from 'src/features/pedigree';\n\nimport './App.css';\n\ntype MenuItemDef = {\n\ticon: JSX.Element;\n\tlabel: string;\n\tpath: string;\n\tPage: React.ComponentType;\n};\n\nconst renderListItem = (def: MenuItemDef) => {\n\treturn (\n\t\t<ListItem key={def.path} button={true} component={Link} to={def.path}>\n\t\t\t<ListItemIcon>{def.icon}</ListItemIcon>\n\t\t\t<ListItemText primary={def.label} />\n\t\t</ListItem>\n\t);\n};\n\nconst defs: MenuItemDef[] = [\n\t{\n\t\ticon: <ListIcon />,\n\t\tlabel: '牝系図',\n\t\tpath: '/mare-line',\n\t\tPage: React.lazy(() =>\n\t\t\timport('src/features/mare-line').then((module) => ({\n\t\t\t\tdefault: module.MareLine,\n\t\t\t}))\n\t\t),\n\t},\n\t{\n\t\ticon: <TimelineIcon />,\n\t\tlabel: '家系図(旧)',\n\t\tpath: '/family',\n\t\tPage: React.lazy(() =>\n\t\t\timport('src/features/family').then((module) => ({\n\t\t\t\tdefault: module.Family,\n\t\t\t}))\n\t\t),\n\t},\n\t{\n\t\ticon: <ChangeHistoryIcon />,\n\t\tlabel: '更新履歴',\n\t\tpath: '/change-log',\n\t\tPage: React.lazy(() =>\n\t\t\timport('src/features/changelog').then((module) => ({\n\t\t\t\tdefault: module.ChangeLog,\n\t\t\t}))\n\t\t),\n\t},\n];\n\nconst MenuList: React.FC<{\n\ttoggleMenu: () => void;\n}> = ({ toggleMenu }) => {\n\treturn (\n\t\t<List onClick={toggleMenu} onKeyDown={toggleMenu}>\n\t\t\t{defs.map(renderListItem)}\n\t\t</List>\n\t);\n};\n\nconst Header: React.FC = () => {\n\tconst [menuOpen, setMenuOpen] = useState<boolean>(false);\n\n\tconst toggleMenu = useMemo(\n\t\t() => () => {\n\t\t\tsetMenuOpen(!menuOpen);\n\t\t},\n\t\t[menuOpen, setMenuOpen]\n\t);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<AppBar position=\"static\">\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tedge=\"start\"\n\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\taria-label=\"menu\"\n\t\t\t\t\t\tonClick={toggleMenu}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuOutlined />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Typography variant=\"h6\">MOTTV Derby</Typography>\n\t\t\t\t\t{/* <Button color=\"inherit\">Login</Button> */}\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t\t<Drawer open={menuOpen} onClose={toggleMenu}>\n\t\t\t\t<MenuList toggleMenu={toggleMenu} />\n\t\t\t</Drawer>\n\t\t</React.Fragment>\n\t);\n};\n\nconst Footer: React.FC = () => {\n\tconst theme = useTheme();\n\treturn (\n\t\t<Box display=\"flex\" justifyContent=\"flex-end\" margin={theme.spacing(0.2)}>\n\t\t\t<Anchor href=\"https://www.youtube.com/user/MOTTYGAMES/\" target=\"__blank\">\n\t\t\t\tMOTTV\n\t\t\t</Anchor>\n\t\t</Box>\n\t);\n};\n\nexport const App: React.FC = () => {\n\tconst theme = useTheme();\n\tconst dispatch = useAppDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(horseDefsActions.init());\n\t}, [dispatch]);\n\n\treturn (\n\t\t<BrowserRouter basename={process.env.PUBLIC_URL}>\n\t\t\t<React.Fragment>\n\t\t\t\t<Header />\n\t\t\t\t<Box margin={theme.spacing(0.5)}>\n\t\t\t\t\t<Suspense fallback={<div>loading...</div>}>\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t{defs.map(({ path, Page }) => (\n\t\t\t\t\t\t\t\t<Route key={path} path={path}>\n\t\t\t\t\t\t\t\t\t<Page />\n\t\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<Route exact path=\"/\" key=\"/\">\n\t\t\t\t\t\t\t\t<Redirect to=\"/mare-line\" />\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route key=\"404\">\n\t\t\t\t\t\t\t\t<Http404 />\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</Suspense>\n\t\t\t\t</Box>\n\t\t\t\t<Footer />\n\t\t\t\t<PedigreeDialog />\n\t\t\t\t<Indicator />\n\t\t\t</React.Fragment>\n\t\t</BrowserRouter>\n\t);\n};\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nexport type PedigreeState = {\n\tdisplays: string[];\n};\n\nconst slice = createSlice({\n\tname: 'pedigree',\n\tinitialState: { displays: [] } as PedigreeState,\n\treducers: {\n\t\tset: (draft, action: PayloadAction<PedigreeState['displays']>) => {\n\t\t\tdraft.displays = action.payload;\n\t\t},\n\t\tpush: (draft, { payload: key }: PayloadAction<string>) => {\n\t\t\tdraft.displays.push(key);\n\t\t},\n\t\tpop: (draft, _: PayloadAction<void>) => {\n\t\t\tif (draft.displays.length <= 0) {\n\t\t\t\tconsole.warn(`pedigree list is empty`);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdraft.displays.pop();\n\t\t},\n\t\tclear: (draft, _: PayloadAction<void>) => {\n\t\t\tdraft.displays = [];\n\t\t},\n\t},\n});\n\nexport const { actions, reducer } = slice;\nexport type PedigreeAction = ReturnType<typeof actions[keyof typeof actions]>;\n","import { makeStyles, createStyles, Theme, Typography } from '@material-ui/core';\nimport {\n\tTableContainer,\n\tTable,\n\tTableBody,\n\tTableRow,\n\tTableCell,\n\tPaper,\n} from '@material-ui/core';\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { RootState } from 'src/app';\nimport { HorseDef, Line, lineMap } from 'src/features/horse-defs';\nexport interface PedigreeTableProps {\n\tdef: HorseDef;\n}\n\ntype PedigreeNode = {\n\tname: string;\n\tgeneration: number;\n\tshow: boolean;\n\tline: Line;\n};\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\ttable: {\n\t\t\t'& .cell': {\n\t\t\t\tbackgroundColor: 'gray',\n\t\t\t\t'&.empty': {\n\t\t\t\t\tbackgroundColor: 'lightgray',\n\t\t\t\t},\n\t\t\t\t'&.Ec': {\n\t\t\t\t\tbackgroundColor: '#ffffff',\n\t\t\t\t},\n\t\t\t\t'&.Ph': {\n\t\t\t\t\tbackgroundColor: '#cfe8ff',\n\t\t\t\t},\n\t\t\t\t'&.Ns': {\n\t\t\t\t\tbackgroundColor: '#00bb00',\n\t\t\t\t},\n\t\t\t\t'&.Ro': {\n\t\t\t\t\tbackgroundColor: '#ffb4c8',\n\t\t\t\t},\n\t\t\t\t'&.Ne': {\n\t\t\t\t\tbackgroundColor: '#fdf488',\n\t\t\t\t},\n\t\t\t\t'&.Na': {\n\t\t\t\t\tbackgroundColor: '#52d8fd',\n\t\t\t\t},\n\t\t\t\t'&.Fa': {\n\t\t\t\t\tbackgroundColor: '#ffc943',\n\t\t\t\t},\n\t\t\t\t'&.To': {\n\t\t\t\t\tbackgroundColor: '#ff9d4b',\n\t\t\t\t},\n\t\t\t\t'&.Te': {\n\t\t\t\t\tcolor: theme.palette.primary.contrastText,\n\t\t\t\t\tbackgroundColor: '#9e57ff',\n\t\t\t\t},\n\t\t\t\t'&.Sw': {\n\t\t\t\t\tbackgroundColor: '#ffe0e1',\n\t\t\t\t},\n\t\t\t\t'&.Ha': {\n\t\t\t\t\tbackgroundColor: '#90ee71',\n\t\t\t\t},\n\t\t\t\t'&.Hi': {\n\t\t\t\t\tcolor: theme.palette.primary.contrastText,\n\t\t\t\t\tbackgroundColor: '#2c6aff',\n\t\t\t\t},\n\t\t\t\t'&.St': {\n\t\t\t\t\tbackgroundColor: '#9e93ff',\n\t\t\t\t},\n\t\t\t\t'&.Ma': {\n\t\t\t\t\tbackgroundColor: '#c5b2fe',\n\t\t\t\t},\n\t\t\t\t'&.He': {\n\t\t\t\t\tbackgroundColor: '#b9f8ff',\n\t\t\t\t},\n\t\t\t\t'&.mother': {\n\t\t\t\t\tcolor: theme.palette.primary.contrastText,\n\t\t\t\t\tbackgroundColor: '#dd7165',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t})\n);\n\n/** 対象世代の限界点 */\nconst limit = 5;\nconst construct = (map: Map<string, HorseDef>) => (\n\tdef: HorseDef\n): PedigreeNode[][] => {\n\tconst table = new Array<PedigreeNode[]>();\n\n\tfor (let row = 0; row < 2 ** (limit - 1); ++row) {\n\t\tconst cols = new Array<PedigreeNode>();\n\t\tfor (let col = 0; col < limit; ++col) {\n\t\t\tcols.push({ name: 'empty', generation: col, show: false, line: 'Uk' });\n\t\t}\n\t\ttable.push(cols);\n\t}\n\n\tconst mapPedigree = (row: number, col: number, def: HorseDef) => {\n\t\ttable[row][col] = {\n\t\t\tname: def.name,\n\t\t\tgeneration: col,\n\t\t\tshow: !!def.show,\n\t\t\tline: def.line,\n\t\t};\n\n\t\tif (col + 1 < limit) {\n\t\t\tif (def.fatherName) {\n\t\t\t\tconst father = map.get(def.fatherName);\n\t\t\t\tif (father) {\n\t\t\t\t\tmapPedigree(row, col + 1, father);\n\t\t\t\t} else {\n\t\t\t\t\tmapPedigree(row, col + 1, {\n\t\t\t\t\t\tname: def.fatherName,\n\t\t\t\t\t\tsex: 'male',\n\t\t\t\t\t\tline: 'Uk',\n\t\t\t\t\t\tlisted: false,\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\towned: false,\n\t\t\t\t\t\tmemo: ['未定義'],\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (def.motherName) {\n\t\t\t\tconst mother = map.get(def.motherName);\n\t\t\t\tif (mother) {\n\t\t\t\t\tmapPedigree(row + 2 ** (limit - col - 2), col + 1, mother);\n\t\t\t\t} else {\n\t\t\t\t\tmapPedigree(row + 2 ** (limit - col - 2), col + 1, {\n\t\t\t\t\t\tname: def.motherName,\n\t\t\t\t\t\tsex: 'female',\n\t\t\t\t\t\tline: 'Uk',\n\t\t\t\t\t\tlisted: false,\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\towned: false,\n\t\t\t\t\t\tmemo: ['未定義'],\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tmapPedigree(0, 0, def);\n\treturn table;\n};\n\nconst renderCell = (\n\trow: number,\n\tcol: number,\n\tcell: PedigreeNode\n): JSX.Element => {\n\tconst threshold = 2 ** (limit - col - 2);\n\tconst className = [\n\t\t'cell',\n\t\t!cell.show ? 'empty' : cell.line,\n\t\tcol === 0 && row === 2 ** (limit - 2) ? ['mother'] : [],\n\t]\n\t\t.flatMap((x) => x)\n\t\t.join(' ');\n\treturn (\n\t\t<React.Fragment key={`col-${col}`}>\n\t\t\t{row % threshold === 0 ? (\n\t\t\t\t<TableCell rowSpan={threshold} className={className}>\n\t\t\t\t\t{cell.show ? (\n\t\t\t\t\t\t<Typography variant=\"body2\">{cell.name}</Typography>\n\t\t\t\t\t) : null}\n\t\t\t\t</TableCell>\n\t\t\t) : null}\n\t\t</React.Fragment>\n\t);\n};\n\nconst renderLine = (line: Line): JSX.Element => {\n\treturn line !== 'Uk' ? (\n\t\t<TableCell\n\t\t\tkey={`col-line`}\n\t\t\tclassName={['cell', line].join(' ')}\n\t\t\trowSpan={2}\n\t\t>\n\t\t\t<Typography variant=\"body2\">{lineMap[line].label}系</Typography>\n\t\t</TableCell>\n\t) : (\n\t\t<TableCell\n\t\t\tkey={`col-line`}\n\t\t\tclassName={['cell', 'empty'].join(' ')}\n\t\t\trowSpan={2}\n\t\t/>\n\t);\n};\n\nconst render = (data: PedigreeNode[][]): JSX.Element => {\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{data.map((cols, row) => (\n\t\t\t\t<TableRow key={`row-${row}`}>\n\t\t\t\t\t{cols\n\t\t\t\t\t\t.filter((_, ix) => ix > 0)\n\t\t\t\t\t\t.map((cell, col) => renderCell(row, col, cell))}\n\t\t\t\t\t{row % 2 === 0 ? renderLine(cols[cols.length - 1].line) : null}\n\t\t\t\t</TableRow>\n\t\t\t))}\n\t\t</React.Fragment>\n\t);\n};\n\nexport const PedigreeTable: React.FC<PedigreeTableProps> = ({ def }) => {\n\tconst classes = useStyles();\n\tconst defs = useSelector((state: RootState) => state.horseDefs.list);\n\tconst map = useMemo(\n\t\t() =>\n\t\t\tdefs.reduce(\n\t\t\t\t(map, def) => map.set(def.name, def),\n\t\t\t\tnew Map<string, typeof defs[number]>()\n\t\t\t),\n\t\t[defs]\n\t);\n\n\tconst array = construct(map)(def);\n\n\treturn (\n\t\t<TableContainer component={Paper}>\n\t\t\t<Table className={classes.table} size=\"small\">\n\t\t\t\t<TableBody>{render(array)}</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t);\n};\n","import * as React from 'react';\nimport { useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Dialog, DialogTitle, Typography } from '@material-ui/core';\n\nimport { RootState } from 'src/app';\n\nimport { lineMap } from 'src/features/horse-defs';\n\nimport { pedigreeActions } from '..';\nimport { PedigreeTable } from './PedigreeTable';\n\nexport const PedigreeDialog: React.FC = () => {\n\tconst dispatch = useDispatch();\n\tconst { displays } = useSelector((state: RootState) => state.pedigree);\n\tconst open = useMemo(() => displays.length > 0, [displays]);\n\tconst defs = useSelector((state: RootState) => state.horseDefs.list);\n\tconst def = useMemo(\n\t\t() =>\n\t\t\tdisplays.length > 0\n\t\t\t\t? defs.find((def) => def.name === displays[displays.length - 1])\n\t\t\t\t: void 0,\n\t\t[defs, displays]\n\t);\n\n\tconst handleClose = useMemo(\n\t\t() => () => {\n\t\t\tdispatch(pedigreeActions.clear());\n\t\t},\n\t\t[dispatch]\n\t);\n\n\treturn def ? (\n\t\t<Dialog open={open} onClose={handleClose}>\n\t\t\t<DialogTitle>\n\t\t\t\t<Typography variant=\"h5\">血統表: {def.name}</Typography>\n\t\t\t\t{def.line !== 'Uk' ? (\n\t\t\t\t\t<Typography variant=\"h6\" style={{ paddingLeft: '1em' }}>\n\t\t\t\t\t\t大系統: {lineMap[def.line].label}系\n\t\t\t\t\t</Typography>\n\t\t\t\t) : null}\n\t\t\t</DialogTitle>\n\t\t\t<PedigreeTable def={def} />\n\t\t</Dialog>\n\t) : null;\n};\n"],"sourceRoot":""}
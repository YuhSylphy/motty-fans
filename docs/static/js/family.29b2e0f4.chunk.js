"use strict";(self.webpackChunkmotty_fans=self.webpackChunkmotty_fans||[]).push([[471],{36534:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var n=r(57758),a=r(68870),s=r(10703),o=r(72791),c=r(84603),f=r(96262),u=r(24572),h=r(7318),i=r(80184),l=function(){var e=(0,o.useRef)(null),t=(0,h.CG)((function(e){return e.horseDefs.list})),r=(0,o.useMemo)((function(){return function(e){var t=new Map,r=[];return e.forEach((function(e){(e.owned||e.listed)&&(t.set(e.name,{label:e.name,class:"owned ".concat(e.sex)}),e.motherName&&(t.has(e.motherName)||t.set(e.motherName,{label:e.motherName,class:"anothers female"}),r.push([{v:e.motherName,w:e.name},{class:"mother"}])),e.fatherName&&(t.has(e.fatherName)||t.set(e.fatherName,{label:e.fatherName,class:"anothers male"}),r.push([{v:e.fatherName,w:e.name},{class:"father"}])))})),{nodes:Array.from(t.entries()),edges:r}}(t)}),[t]);return(0,o.useEffect)((function(){if(e.current){var t=f.select(e.current);if(t.selectAll("g").remove(),0!==r.nodes.length||0!==r.edges.length){var n=(new u.graphlib.Graph).setGraph({rankdir:"LR"}).setDefaultEdgeLabel((function(){return{}}));r.nodes.forEach((function(e){n.setNode(e[0],e[1])})),n.nodes().forEach((function(e){var t=n.node(e);t.rx=t.ry=5})),r.edges.forEach((function(e){n.setEdge(e[0],e[1])}));var a=new u.render,s=t.append("g"),o=f.zoom().on("zoom",(function(){s.attr("transform",f.event.transform)}));t.call(o),a(f.select("svg g"),n);var c=(Number(t.attr("width"))-(n.graph().width||0))/2;s.attr("transform","translate(".concat(Number.isNaN(c)?0:c,", 20)"))}}}),[e,r]),(0,i.jsx)(o.Fragment,{children:(0,i.jsx)("svg",{className:"d3-component mottv-derby-family",width:"100%",height:"70vh",ref:e})})},m=r(22735);(0,n.mb)(m.V);var d=function(){return(0,i.jsx)(c.Z1,{children:(0,i.jsx)(a.Z,{children:(0,i.jsx)(s.Z,{children:(0,i.jsx)(l,{})})})})}},22735:function(e,t,r){r.d(t,{V:function(){return i}});var n=r(33032),a=r(84322),s=r.n(a),o=r(41441),c=r(34013),f=r(7318),u=r(84603),h=r(12056),i=(0,o.l)((function(e){return e.pipe((0,c.h)(u.Q_.init.match),(0,f.vi)("horse-defs/fetch",(0,n.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u.Q_,e.next=3,(0,h.r)();case 3:return e.t1=e.sent,e.t2={list:e.t1},e.abrupt("return",e.t0.set.call(e.t0,e.t2));case 6:case"end":return e.stop()}}),e)})))))}))}}]);
//# sourceMappingURL=family.29b2e0f4.chunk.js.map
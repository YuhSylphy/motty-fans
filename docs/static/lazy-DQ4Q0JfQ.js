import{j as c,r as d}from"./jsx-runtime-_5WuVDLK.js";import{p}from"./pako.esm-BoIYYwlZ.js";import{i as g,n as x,m as b}from"./ducks-CscC-WQZ.js";import{c as j,b as w,a as y,d as H,e as B}from"./hash-B49AnOO9.js";import{j as D}from"./DefaultPropsProvider-CSjmKMGg.js";import{T,G as l}from"./TextField-Bw5v4SS8.js";import{B as k}from"./Box-DH0NNVFk.js";import{P as v}from"./Paper-CR0QuJQc.js";import"./redux-toolkit.modern-J4jBE5Lh.js";import"./datetime-BT3pVNmC.js";import"./utils-Ds4Qqy87.js";import"./useTheme-BXk4qgwv.js";import"./TransitionGroupContext-OigCRaz6.js";import"./index-CTAOeIM6.js";import"./useFormControl-CkXjXPAx.js";import"./resolveComponentProps-LjkoubKo.js";import"./useSlotProps-BWWNHuKW.js";import"./Modal-x9pmWsIV.js";import"./Backdrop-Diuy1ohG.js";import"./List-Bzz6kMxx.js";import"./menu-defs-DKxwMDY7.js";import"./GlobalStyles-CG4ksUWf.js";import"./createBox-gRr0yNN2.js";const m=D(T)(({})=>({width:"100%"})),h=e=>JSON.stringify(e,null,"	"),u=j();function f(e){let o=0;console.info(`encode: ${o++}`,e);const t=b(e);console.info(`encode: ${o++}`,t);const n=JSON.stringify(t);console.info(`encode: ${o++}`,n);const a=p.deflateRaw(n,{raw:!0});console.info(`encode: ${o++}`,a);const i=w(a);console.info(`encode: ${o++}`,i);const r=y(i);return console.info(`encode: ${o++}`,r),r}function z(e){let o=0;console.info(`decode: ${o++}`,e);try{const t=H(e);console.info(`decode: ${o++}`,t);const n=B(t);console.info(`decode: ${o++}`,n);const a=p.inflateRaw(n,{to:"string",raw:!0});console.info(`decode: ${o++}`,a);const i=JSON.parse(a);if(console.info(`decode: ${o++}`,i),!g(i))throw Error(`content is not a VideoFinderCondition: ${JSON.stringify(i)}`);const r=x(i);return console.info(`decode: ${o++}`,r),r}catch(t){throw Error("failed to decode conditions hash",{cause:t})}}const F=()=>{const[e,o]=d.useState(h(u)),[t,n]=d.useState(f(u)),a=d.useCallback(({target:{value:s}})=>{n(s)},[n]),i=d.useCallback(()=>{try{const s=z(t);o(h(s))}catch(s){console.error("failed to convert",{cause:s})}},[t,o]),r=d.useCallback(({target:{value:s}})=>{o(s)},[o]),C=d.useCallback(()=>{try{const s=JSON.parse(e);if(!g(s))throw Error("failed to convert");const S=x(s),$=f(S);n($)}catch(s){console.error("",{cause:s})}},[e,n]);return{hash:t,dataString:e,onHashChange:a,onDataStringChange:r,onHashBlur:i,onDataStringBlur:C}};function to(){const{hash:e,dataString:o,onDataStringChange:t,onHashChange:n,onDataStringBlur:a,onHashBlur:i}=F();return c.jsx(k,{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",children:c.jsx(v,{sx:{width:"100%"},children:c.jsxs(l,{container:!0,children:[c.jsx(l,{item:!0,xs:12,children:c.jsx(m,{id:"hash",placeholder:"hash",value:e,onChange:n,onBlur:i})}),c.jsx(l,{item:!0,xs:12,children:c.jsx(m,{id:"data",multiline:!0,placeholder:"data",value:o,onChange:t,onBlur:a})})]})})})}export{to as default};

import{j as i,r as c}from"./jsx-runtime-_5WuVDLK.js";import{c as S,p as m,b,a as j,d as w,e as y}from"./hash-CNa9Aaa-.js";import{i as p}from"./ducks-BgW1bLXP.js";import{j as H}from"./DefaultPropsProvider-CSjmKMGg.js";import{T as $,G as d}from"./TextField-escrN2zw.js";import{B}from"./Box-DH0NNVFk.js";import{P as D}from"./Paper-CR0QuJQc.js";import"./datetime-BT3pVNmC.js";import"./redux-toolkit.modern-J4jBE5Lh.js";import"./utils-Ds4Qqy87.js";import"./useTheme-BXk4qgwv.js";import"./TransitionGroupContext-OigCRaz6.js";import"./index-CTAOeIM6.js";import"./useFormControl-CkXjXPAx.js";import"./resolveComponentProps-LjkoubKo.js";import"./useSlotProps-BWWNHuKW.js";import"./Modal-x9pmWsIV.js";import"./Backdrop-Diuy1ohG.js";import"./List-Bzz6kMxx.js";import"./menu-defs-D72kqyz3.js";import"./GlobalStyles-CG4ksUWf.js";import"./createBox-gRr0yNN2.js";const l=H($)(({})=>({width:"100%"})),h=e=>JSON.stringify(e,null,"	"),u=S();function f(e){let o=0;console.info(`encode: ${o++}`,e);const t=JSON.stringify(e);console.info(`encode: ${o++}`,t);const n=m.deflateRaw(t,{raw:!0});console.info(`encode: ${o++}`,n);const r=b(n);console.info(`encode: ${o++}`,r);const a=j(r);return console.info(`encode: ${o++}`,a),a}function T(e){let o=0;console.info(`decode: ${o++}`,e);try{const t=w(e);console.info(`decode: ${o++}`,t);const n=y(t);console.info(`decode: ${o++}`,n);const r=m.inflateRaw(n,{to:"string",raw:!0});console.info(`decode: ${o++}`,r);const a=JSON.parse(r);if(console.info(`decode: ${o++}`,a),!p(a))throw Error(`content is not a VideoFinderCondition: ${JSON.stringify(a)}`);return a}catch(t){throw Error("failed to decode conditions hash",{cause:t})}}const k=()=>{const[e,o]=c.useState(h(u)),[t,n]=c.useState(f(u)),r=c.useCallback(({target:{value:s}})=>{n(s)},[n]),a=c.useCallback(()=>{try{const s=T(t);o(h(s))}catch(s){console.error("failed to convert",{cause:s})}},[t,o]),g=c.useCallback(({target:{value:s}})=>{o(s)},[o]),x=c.useCallback(()=>{try{const s=JSON.parse(e);if(!p(s))throw Error("failed to convert");const C=f(s);n(C)}catch(s){console.error("",{cause:s})}},[e,n]);return{hash:t,dataString:e,onHashChange:r,onDataStringChange:g,onHashBlur:a,onDataStringBlur:x}};function Z(){const{hash:e,dataString:o,onDataStringChange:t,onHashChange:n,onDataStringBlur:r,onHashBlur:a}=k();return i.jsx(B,{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",children:i.jsx(D,{sx:{width:"100%"},children:i.jsxs(d,{container:!0,children:[i.jsx(d,{item:!0,xs:12,children:i.jsx(l,{id:"hash",placeholder:"hash",value:e,onChange:n,onBlur:a})}),i.jsx(d,{item:!0,xs:12,children:i.jsx(l,{id:"data",multiline:!0,placeholder:"data",value:o,onChange:t,onBlur:r})})]})})})}export{Z as default};

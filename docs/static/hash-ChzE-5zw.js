import{p as i}from"./pako.esm-BoIYYwlZ.js";import{m as s,i as c,n as d}from"./ducks-B4GhlEk-.js";import{D as u}from"./datetime-BT3pVNmC.js";function f(n){return btoa(String.fromCharCode(...n))}function l(n){return Uint8Array.from(atob(n),e=>e.charCodeAt(0))}function m(n){return n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=*$/g,"")}function h(n){const e=n.replace(/-/g,"+").replace(/_/g,"/"),o=e.length%4;return o>0?e+"====".slice(o):e}function p(n){const e=s(n),o=JSON.stringify(e),t=i.deflateRaw(o,{raw:!0}),r=f(t);return m(r)}function y(n){try{const e=h(n),o=l(e),t=i.inflateRaw(o,{to:"string",raw:!0}),r=JSON.parse(t);if(!c(r))throw Error(`content is not a VideoFinderCondition: ${JSON.stringify(r)}`);return d(r)}catch(e){throw Error("failed to decode conditions hash",{cause:e})}}function z(){return p(g())}function g(){return{tags:[],dateSpan:{from:u.now().minus({months:3}).toMillis(),to:null}}}function S(n){const e=location.href.match(/^(https?:\/\/[^/]+\/[^/]+\/videos)(?:\/([^/]*))?$/);if(!e||e.length===0){console.warn(`hash set in unexpected url: ${location.href}`);return}const[,o,t]=e;n!==t&&history.pushState("","",`${o}/${n}`)}export{m as a,f as b,g as c,h as d,l as e,p as f,y as g,z as h,S as s};

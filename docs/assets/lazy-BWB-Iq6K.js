import{v as Mt,r as Pt}from"./store-B39U2sUK.js";import{r as x,j as C,R as Te}from"./jsx-runtime-_5WuVDLK.js";import{H as Rt,e as Ot}from"./epic-CkTdGfsP.js";import{i as ae,k as ce,j as D,b as _,K as Ve,_ as $e,c as ue,g as G,h as de,r as At,u as Ft,O as Ne,P as jt}from"./DefaultPropsProvider-Cd7czArd.js";import{a as A,r as Dt}from"./createSvgIcon-BFUQ8uGv.js";import{c as Z,P as Ae,F as Ce,e as Vt,g as $t,h as Nt}from"./menu-defs-jy_HPXnl.js";import{u as Le,a as Lt}from"./ducks-D0Wyj6xE.js";import{a as _t}from"./util-BN9zR8p4.js";import{u as Bt}from"./useThemeProps-B6imbFov.js";import{u as zt,a as Ut}from"./useFormControl-gmeMoCWW.js";import{B as Kt,d as B,c as Xt,s as qt,r as H,e as Fe,I as Ht}from"./IconButton-YPa5RDI0.js";import{C as Wt}from"./Collapse-Cdg3B_Et.js";import{a as le}from"./TransitionGroupContext-DDXbBdsA.js";import{u as Jt,o as Gt,b as J}from"./useSlotProps-ARyd7VdJ.js";import{a as Qt}from"./utils-BMjij2k7.js";import{P as Yt}from"./Paper-nIoFMWoM.js";import"./horse-DRaouqDg.js";import"./tap-D73-N3M8.js";import"./useTheme-gLwWT2hx.js";import"./index-CTAOeIM6.js";function Zt(e){return ae("PrivateSwitchBase",e)}ce("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const en=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],tn=e=>{const{classes:t,checked:n,disabled:o,edge:r}=e,d={root:["root",n&&"checked",o&&"disabled",r&&`edge${G(r)}`],input:["input"]};return de(d,Zt,t)},nn=D(Kt)(({ownerState:e})=>_({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),on=D("input",{shouldForwardProp:Ve})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),rn=x.forwardRef(function(t,n){const{autoFocus:o,checked:r,checkedIcon:d,className:c,defaultChecked:l,disabled:u,disableFocusRipple:p=!1,edge:s=!1,icon:a,id:I,inputProps:b,inputRef:g,name:m,onBlur:i,onChange:f,onFocus:h,readOnly:w,required:k=!1,tabIndex:S,type:E,value:T}=t,V=$e(t,en),[$,N]=zt({controlled:r,default:!!l,name:"SwitchBase",state:"checked"}),M=Ut(),z=P=>{h&&h(P),M&&M.onFocus&&M.onFocus(P)},U=P=>{i&&i(P),M&&M.onBlur&&M.onBlur(P)},O=P=>{if(P.nativeEvent.defaultPrevented)return;const oe=P.target.checked;N(oe),f&&f(P,oe)};let F=u;M&&typeof F>"u"&&(F=M.disabled);const fe=E==="checkbox"||E==="radio",R=_({},t,{checked:$,disabled:F,disableFocusRipple:p,edge:s}),K=tn(R);return C.jsxs(nn,_({component:"span",className:ue(K.root,c),centerRipple:!0,focusRipple:!p,disabled:F,tabIndex:null,role:void 0,onFocus:z,onBlur:U,ownerState:R,ref:n},V,{children:[C.jsx(on,_({autoFocus:o,checked:r,defaultChecked:l,className:K.input,disabled:F,id:fe?I:void 0,name:m,onChange:O,readOnly:w,ref:g,required:k,ownerState:R,tabIndex:S,type:E},E==="checkbox"&&T===void 0?{}:{value:T},b)),$?d:a]}))}),sn=Z(C.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),ln=Z(C.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),an=Z(C.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function cn(e){return ae("MuiCheckbox",e)}const ye=ce("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),un=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],dn=e=>{const{classes:t,indeterminate:n,color:o,size:r}=e,d={root:["root",n&&"indeterminate",`color${G(o)}`,`size${G(r)}`]},c=de(d,cn,t);return _({},t,c)},pn=D(rn,{shouldForwardProp:e=>Ve(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${G(n.size)}`],n.color!=="default"&&t[`color${G(n.color)}`]]}})(({theme:e,ownerState:t})=>_({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:At(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${ye.checked}, &.${ye.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${ye.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),mn=C.jsx(ln,{}),fn=C.jsx(sn,{}),In=C.jsx(an,{}),gn=x.forwardRef(function(t,n){var o,r;const d=Ft({props:t,name:"MuiCheckbox"}),{checkedIcon:c=mn,color:l="primary",icon:u=fn,indeterminate:p=!1,indeterminateIcon:s=In,inputProps:a,size:I="medium",className:b}=d,g=$e(d,un),m=p?s:u,i=p?s:c,f=_({},d,{color:l,indeterminate:p,size:I}),h=dn(f);return C.jsx(pn,_({type:"checkbox",inputProps:_({"data-indeterminate":p},a),icon:x.cloneElement(m,{fontSize:(o=m.props.fontSize)!=null?o:I}),checkedIcon:x.cloneElement(i,{fontSize:(r=i.props.fontSize)!=null?r:I}),ownerState:f,ref:n,className:ue(h.root,b)},g,{classes:h}))});function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},y.apply(null,arguments)}function _e(e){return Bt}function hn(e){return ae("MuiSimpleTreeView",e)}ce("MuiSimpleTreeView",["root"]);const bn=(e,t)=>{const n=x.useRef({}),[o,r]=x.useState(()=>{const c={};return e.forEach(l=>{l.models&&Object.entries(l.models).forEach(([u,p])=>{n.current[u]={isControlled:t[u]!==void 0,getDefaultValue:p.getDefaultValue},c[u]=p.getDefaultValue(t)})}),c});return Object.fromEntries(Object.entries(n.current).map(([c,l])=>{const u=t[c]??o[c];return[c,{value:u,setControlledValue:p=>{l.isControlled||r(s=>y({},s,{[c]:p}))}}]}))};class xn{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,n,o={}){let r=this.events[t];r||(r={highPriority:new Map,regular:new Map},this.events[t]=r),o.isFirst?r.highPriority.set(n,!0):r.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const o=this.events[t];if(!o)return;const r=Array.from(o.highPriority.keys()),d=Array.from(o.regular.keys());for(let c=r.length-1;c>=0;c-=1){const l=r[c];o.highPriority.has(l)&&l.apply(this,n)}for(let c=0;c<d.length;c+=1){const l=d[c];o.regular.has(l)&&l.apply(this,n)}}once(t,n){const o=this;this.on(t,function r(...d){o.removeListener(t,r),n.apply(o,d)})}}const Cn=e=>e.isPropagationStopped!==void 0,Be=()=>{const[e]=x.useState(()=>new xn),t=x.useCallback((...o)=>{const[r,d,c={}]=o;c.defaultMuiPrevented=!1,!(Cn(c)&&c.isPropagationStopped())&&e.emit(r,d,c)},[e]),n=x.useCallback((o,r)=>(e.on(o,r),()=>{e.removeListener(o,r)}),[e]);return{instance:{$$publishEvent:t,$$subscribeEvent:n}}};Be.params={};const ze=({plugins:e})=>{const t=new Set(e);return{instance:{getAvailablePlugins:()=>t}}};ze.params={};const Ue=({params:e})=>{const t=Jt(e.id),n=x.useCallback((o,r)=>r??`${t}-${o}`,[t]);return{getRootProps:()=>({id:t}),instance:{getTreeItemIdAttribute:n}}};Ue.params={id:!0};const yn=[Be,ze,Ue];function X(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.includes(o))continue;n[o]=e[o]}return n}const wn=["slots","slotProps","apiRef","experimentalFeatures"],Tn=e=>{let{props:{slots:t,slotProps:n,apiRef:o,experimentalFeatures:r},plugins:d}=e,c=X(e.props,wn);const l={};d.forEach(a=>{Object.assign(l,a.params)});const u={},p={};Object.keys(c).forEach(a=>{const I=c[a];l[a]?u[a]=I:p[a]=I});const s=d.reduce((a,I)=>I.getDefaultizedParams?I.getDefaultizedParams(a):a,u);return{apiRef:o,forwardedProps:p,pluginParams:s,slots:t??{},slotProps:n??{},experimentalFeatures:r??{}}},vn=({plugins:e,instance:t,publicAPI:n,rootRef:o})=>({runItemPlugins:l=>{let u=null,p=null;const s=[],a={};e.forEach(g=>{if(!g.itemPlugin)return;const m=g.itemPlugin({props:l,rootRef:u,contentRef:p});m!=null&&m.rootRef&&(u=m.rootRef),m!=null&&m.contentRef&&(p=m.contentRef),m!=null&&m.propsEnhancers&&(s.push(m.propsEnhancers),Object.keys(m.propsEnhancers).forEach(i=>{a[i]=!0}))});const I=g=>m=>{const i={};return s.forEach(f=>{const h=f[g];h!=null&&Object.assign(i,h(m))}),i},b=Object.fromEntries(Object.keys(a).map(g=>[g,I(g)]));return{contentRef:p,rootRef:u,propsEnhancers:b}},wrapItem:({itemId:l,children:u})=>{let p=u;for(let s=e.length-1;s>=0;s-=1){const a=e[s];a.wrapItem&&(p=a.wrapItem({itemId:l,children:p,instance:t}))}return p},wrapRoot:({children:l})=>{let u=l;for(let p=e.length-1;p>=0;p-=1){const s=e[p];s.wrapRoot&&(u=s.wrapRoot({children:u,instance:t}))}return u},instance:t,rootRef:o,publicAPI:n});function En(e){const t=x.useRef({});return e?(e.current==null&&(e.current={}),e.current):t.current}const kn=({plugins:e,rootRef:t,props:n})=>{const o=[...yn,...e],{pluginParams:r,forwardedProps:d,apiRef:c,experimentalFeatures:l,slots:u,slotProps:p}=Tn({plugins:o,props:n}),s=bn(o,r),I=x.useRef({}).current,b=En(c),g=x.useRef(null),m=le(g,t),i=vn({plugins:o,instance:I,publicAPI:b,rootRef:g}),[f,h]=x.useState(()=>{const E={};return o.forEach(T=>{T.getInitialState&&Object.assign(E,T.getInitialState(r))}),E}),w=[],k=E=>{const T=E({instance:I,params:r,slots:u,slotProps:p,experimentalFeatures:l,state:f,setState:h,rootRef:g,models:s,plugins:o});T.getRootProps&&w.push(T.getRootProps),T.publicAPI&&Object.assign(b,T.publicAPI),T.instance&&Object.assign(I,T.instance),T.contextValue&&Object.assign(i,T.contextValue)};return o.forEach(k),{getRootProps:(E={})=>{const T=y({role:"tree"},d,E,{ref:m});return w.forEach(V=>{Object.assign(T,V(E))}),T},rootRef:m,contextValue:i,instance:I}},Ke=x.createContext(null);function Sn(e){const{value:t,children:n}=e;return C.jsx(Ke.Provider,{value:t,children:t.wrapRoot({children:n})})}const ee=()=>{const e=x.useContext(Ke);if(e==null)throw new Error(["MUI X: Could not find the Tree View context.","It looks like you rendered your component outside of a SimpleTreeView or RichTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));return e},Xe=(e,t,n)=>{e.$$publishEvent(t,n)},q="__TREE_VIEW_ROOT_PARENT_ID__",qe=e=>{const t={};return e.forEach((n,o)=>{t[n]=o}),t},Q=x.createContext(()=>-1),Mn=["children"],He=({items:e,isItemDisabled:t,getItemLabel:n,getItemId:o})=>{const r={},d={},c={[q]:[]},l=(p,s,a)=>{var m,i;const I=o?o(p):p.id;if(I==null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",JSON.stringify(p)].join(`
`));if(r[I]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${I}"`].join(`
`));const b=n?n(p):p.label;if(b==null)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",JSON.stringify(p)].join(`
`));r[I]={id:I,label:b,parentId:a,idAttribute:void 0,expandable:!!((m=p.children)!=null&&m.length),disabled:t?t(p):!1,depth:s},d[I]=p;const g=a??q;c[g]||(c[g]=[]),c[g].push(I),(i=p.children)==null||i.forEach(f=>l(f,s+1,I))};e.forEach(p=>l(p,0,null));const u={};return Object.keys(c).forEach(p=>{u[p]=qe(c[p])}),{itemMetaMap:r,itemMap:d,itemOrderedChildrenIds:c,itemChildrenIndexes:u}},te=({instance:e,params:t,state:n,setState:o,experimentalFeatures:r})=>{const d=x.useCallback(f=>n.items.itemMetaMap[f],[n.items.itemMetaMap]),c=x.useCallback(f=>n.items.itemMap[f],[n.items.itemMap]),l=x.useCallback(()=>{const f=h=>{const w=n.items.itemMap[h],k=X(w,Mn),S=n.items.itemOrderedChildrenIds[h];return S&&(k.children=S.map(f)),k};return n.items.itemOrderedChildrenIds[q].map(f)},[n.items.itemMap,n.items.itemOrderedChildrenIds]),u=x.useCallback(f=>{if(f==null)return!1;let h=e.getItemMeta(f);if(!h)return!1;if(h.disabled)return!0;for(;h.parentId!=null;)if(h=e.getItemMeta(h.parentId),h.disabled)return!0;return!1},[e]),p=x.useCallback(f=>{const h=e.getItemMeta(f).parentId??q;return n.items.itemChildrenIndexes[h][f]},[e,n.items.itemChildrenIndexes]),s=x.useCallback(f=>n.items.itemOrderedChildrenIds[f??q]??[],[n.items.itemOrderedChildrenIds]),a=f=>{const h=e.getItemMeta(f);return h==null?null:document.getElementById(e.getTreeItemIdAttribute(f,h.idAttribute))},I=f=>t.disabledItemsFocusable?!0:!e.isItemDisabled(f),b=x.useRef(!1),g=x.useCallback(()=>{b.current=!0},[]),m=x.useCallback(()=>b.current,[]);return x.useEffect(()=>{e.areItemUpdatesPrevented()||o(f=>{const h=He({items:t.items,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel});return Object.values(f.items.itemMetaMap).forEach(w=>{h.itemMetaMap[w.id]||Xe(e,"removeItem",{id:w.id})}),y({},f,{items:h})})},[e,o,t.items,t.isItemDisabled,t.getItemId,t.getItemLabel]),{getRootProps:()=>({style:{"--TreeView-itemChildrenIndentation":typeof t.itemChildrenIndentation=="number"?`${t.itemChildrenIndentation}px`:t.itemChildrenIndentation}}),publicAPI:{getItem:c,getItemDOMElement:a,getItemTree:l,getItemOrderedChildrenIds:s},instance:{getItemMeta:d,getItem:c,getItemTree:l,getItemsToRender:()=>{const f=h=>{var k;const w=n.items.itemMetaMap[h];return{label:w.label,itemId:w.id,id:w.idAttribute,children:(k=n.items.itemOrderedChildrenIds[h])==null?void 0:k.map(f)}};return n.items.itemOrderedChildrenIds[q].map(f)},getItemIndex:p,getItemDOMElement:a,getItemOrderedChildrenIds:s,isItemDisabled:u,isItemNavigable:I,preventItemUpdates:g,areItemUpdatesPrevented:m},contextValue:{items:{onItemClick:t.onItemClick,disabledItemsFocusable:t.disabledItemsFocusable,indentationAtItemLevel:r.indentationAtItemLevel??!1}}}};te.getInitialState=e=>({items:He({items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel})});te.getDefaultizedParams=e=>y({},e,{disabledItemsFocusable:e.disabledItemsFocusable??!1,itemChildrenIndentation:e.itemChildrenIndentation??"12px"});te.wrapRoot=({children:e,instance:t})=>C.jsx(Q.Provider,{value:n=>{var o;return((o=t.getItemMeta(n))==null?void 0:o.depth)??0},children:e});te.params={disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemId:!0,onItemClick:!0,itemChildrenIndentation:!0};const pe=({instance:e,params:t,models:n})=>{const o=x.useMemo(()=>{const a=new Map;return n.expandedItems.value.forEach(I=>{a.set(I,!0)}),a},[n.expandedItems.value]),r=(a,I)=>{var b;(b=t.onExpandedItemsChange)==null||b.call(t,a,I),n.expandedItems.setControlledValue(I)},d=x.useCallback(a=>o.has(a),[o]),c=x.useCallback(a=>{var I;return!!((I=e.getItemMeta(a))!=null&&I.expandable)},[e]),l=B((a,I)=>{const b=e.isItemExpanded(I);e.setItemExpansion(a,I,!b)}),u=B((a,I,b)=>{if(e.isItemExpanded(I)===b)return;let m;b?m=[I].concat(n.expandedItems.value):m=n.expandedItems.value.filter(i=>i!==I),t.onItemExpansionToggle&&t.onItemExpansionToggle(a,I,b),r(a,m)}),p=(a,I)=>{const b=e.getItemMeta(I),m=e.getItemOrderedChildrenIds(b.parentId).filter(f=>e.isItemExpandable(f)&&!e.isItemExpanded(f)),i=n.expandedItems.value.concat(m);m.length>0&&(t.onItemExpansionToggle&&m.forEach(f=>{t.onItemExpansionToggle(a,f,!0)}),r(a,i))},s=x.useMemo(()=>t.expansionTrigger?t.expansionTrigger:"content",[t.expansionTrigger]);return{publicAPI:{setItemExpansion:u},instance:{isItemExpanded:d,isItemExpandable:c,setItemExpansion:u,toggleItemExpansion:l,expandAllSiblings:p},contextValue:{expansion:{expansionTrigger:s}}}};pe.models={expandedItems:{getDefaultValue:e=>e.defaultExpandedItems}};const Pn=[];pe.getDefaultizedParams=e=>y({},e,{defaultExpandedItems:e.defaultExpandedItems??Pn});pe.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0,expansionTrigger:!0};const We=(e,t)=>{let n=t.length-1;for(;n>=0&&!e.isItemNavigable(t[n]);)n-=1;if(n!==-1)return t[n]},Je=(e,t)=>{const n=e.getItemMeta(t),o=e.getItemOrderedChildrenIds(n.parentId),r=e.getItemIndex(t);if(r===0)return n.parentId;let d=r-1;for(;!e.isItemNavigable(o[d])&&d>=0;)d-=1;if(d===-1)return n.parentId==null?null:Je(e,n.parentId);let c=o[d],l=We(e,e.getItemOrderedChildrenIds(c));for(;e.isItemExpanded(c)&&l!=null;)c=l,l=e.getItemOrderedChildrenIds(c).find(e.isItemNavigable);return c},se=(e,t)=>{if(e.isItemExpanded(t)){const o=e.getItemOrderedChildrenIds(t).find(e.isItemNavigable);if(o!=null)return o}let n=e.getItemMeta(t);for(;n!=null;){const o=e.getItemOrderedChildrenIds(n.parentId),r=e.getItemIndex(n.id);if(r<o.length-1){let d=r+1;for(;!e.isItemNavigable(o[d])&&d<o.length-1;)d+=1;if(e.isItemNavigable(o[d]))return o[d]}n=e.getItemMeta(n.parentId)}return null},Ge=e=>{let t=null;for(;t==null||e.isItemExpanded(t);){const n=e.getItemOrderedChildrenIds(t),o=We(e,n);if(o==null)return t;t=o}return t},Y=e=>e.getItemOrderedChildrenIds(null).find(e.isItemNavigable),Qe=(e,t,n)=>{if(t===n)return[t,n];const o=e.getItemMeta(t),r=e.getItemMeta(n);if(o.parentId===r.id||r.parentId===o.id)return r.parentId===o.id?[o.id,r.id]:[r.id,o.id];const d=[o.id],c=[r.id];let l=o.parentId,u=r.parentId,p=c.indexOf(l)!==-1,s=d.indexOf(u)!==-1,a=!0,I=!0;for(;!s&&!p;)a&&(d.push(l),p=c.indexOf(l)!==-1,a=l!==null,!p&&a&&(l=e.getItemMeta(l).parentId)),I&&!p&&(c.push(u),s=d.indexOf(u)!==-1,I=u!==null,!s&&I&&(u=e.getItemMeta(u).parentId));const b=p?l:u,g=e.getItemOrderedChildrenIds(b),m=d[d.indexOf(b)-1],i=c[c.indexOf(b)-1];return g.indexOf(m)<g.indexOf(i)?[t,n]:[n,t]},Rn=(e,t,n)=>{const o=u=>{if(e.isItemExpandable(u)&&e.isItemExpanded(u))return e.getItemOrderedChildrenIds(u)[0];let p=e.getItemMeta(u);for(;p!=null;){const s=e.getItemOrderedChildrenIds(p.parentId),a=e.getItemIndex(p.id);if(a<s.length-1)return s[a+1];p=e.getItemMeta(p.parentId)}throw new Error("Invalid range")},[r,d]=Qe(e,t,n),c=[r];let l=r;for(;l!==d;)l=o(l),e.isItemDisabled(l)||c.push(l);return c},On=e=>{let t=Y(e);const n=[];for(;t!=null;)n.push(t),t=se(e,t);return n},An=(e,t)=>t!==e.closest('*[role="treeitem"]'),ie=e=>Array.isArray(e)?e:e!=null?[e]:[],we=e=>{const t={};return e.forEach(n=>{t[n]=!0}),t},me=({instance:e,params:t,models:n})=>{const o=x.useRef(null),r=x.useRef({}),d=x.useMemo(()=>{const m=new Map;return Array.isArray(n.selectedItems.value)?n.selectedItems.value.forEach(i=>{m.set(i,!0)}):n.selectedItems.value!=null&&m.set(n.selectedItems.value,!0),m},[n.selectedItems.value]),c=(m,i)=>{if(t.onItemSelectionToggle)if(t.multiSelect){const f=i.filter(w=>!e.isItemSelected(w)),h=n.selectedItems.value.filter(w=>!i.includes(w));f.forEach(w=>{t.onItemSelectionToggle(m,w,!0)}),h.forEach(w=>{t.onItemSelectionToggle(m,w,!1)})}else i!==n.selectedItems.value&&(n.selectedItems.value!=null&&t.onItemSelectionToggle(m,n.selectedItems.value,!1),i!=null&&t.onItemSelectionToggle(m,i,!0));t.onSelectedItemsChange&&t.onSelectedItemsChange(m,i),n.selectedItems.setControlledValue(i)},l=m=>d.has(m),u=({event:m,itemId:i,keepExistingSelection:f=!1,shouldBeSelected:h})=>{if(t.disableSelection)return;let w;if(f){const k=ie(n.selectedItems.value),S=e.isItemSelected(i);S&&(h===!1||h==null)?w=k.filter(E=>E!==i):!S&&(h===!0||h==null)?w=[i].concat(k):w=k}else h===!1||h==null&&e.isItemSelected(i)?w=t.multiSelect?[]:null:w=t.multiSelect?[i]:i;c(m,w),o.current=i,r.current={}},p=(m,[i,f])=>{if(t.disableSelection||!t.multiSelect)return;let h=ie(n.selectedItems.value).slice();Object.keys(r.current).length>0&&(h=h.filter(E=>!r.current[E]));const w=we(h),k=Rn(e,i,f),S=k.filter(E=>!w[E]);h=h.concat(S),c(m,h),r.current=we(k)};return{getRootProps:()=>({"aria-multiselectable":t.multiSelect}),publicAPI:{selectItem:u},instance:{isItemSelected:l,selectItem:u,selectAllNavigableItems:m=>{if(t.disableSelection||!t.multiSelect)return;const i=On(e);c(m,i),r.current=we(i)},expandSelectionRange:(m,i)=>{if(o.current!=null){const[f,h]=Qe(e,i,o.current);p(m,[f,h])}},selectRangeFromStartToItem:(m,i)=>{p(m,[Y(e),i])},selectRangeFromItemToEnd:(m,i)=>{p(m,[i,Ge(e)])},selectItemFromArrowNavigation:(m,i,f)=>{if(t.disableSelection||!t.multiSelect)return;let h=ie(n.selectedItems.value).slice();Object.keys(r.current).length===0?(h.push(f),r.current={[i]:!0,[f]:!0}):(r.current[i]||(r.current={}),r.current[f]?(h=h.filter(w=>w!==i),delete r.current[i]):(h.push(f),r.current[f]=!0)),c(m,h)}},contextValue:{selection:{multiSelect:t.multiSelect,checkboxSelection:t.checkboxSelection,disableSelection:t.disableSelection}}}};me.models={selectedItems:{getDefaultValue:e=>e.defaultSelectedItems}};const Fn=[];me.getDefaultizedParams=e=>y({},e,{disableSelection:e.disableSelection??!1,multiSelect:e.multiSelect??!1,checkboxSelection:e.checkboxSelection??!1,defaultSelectedItems:e.defaultSelectedItems??(e.multiSelect?Fn:null)});me.params={disableSelection:!0,multiSelect:!0,checkboxSelection:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0};const je=1e3;class jn{constructor(t=je){this.timeouts=new Map,this.cleanupTimeout=je,this.cleanupTimeout=t}register(t,n,o){this.timeouts||(this.timeouts=new Map);const r=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(o.cleanupToken)},this.cleanupTimeout);this.timeouts.set(o.cleanupToken,r)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class Dn{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,o){this.registry.register(t,n,o)}unregister(t){this.registry.unregister(t)}reset(){}}class Vn{}function $n(e){let t=0;return function(o,r,d){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new Dn:new jn);const[c]=x.useState(new Vn),l=x.useRef(null),u=x.useRef();u.current=d;const p=x.useRef(null);if(!l.current&&u.current){const s=(a,I)=>{var b;I.defaultMuiPrevented||(b=u.current)==null||b.call(u,a,I)};l.current=o.$$subscribeEvent(r,s),t+=1,p.current={cleanupToken:t},e.registry.register(c,()=>{var a;(a=l.current)==null||a.call(l),l.current=null,p.current=null},p.current)}else!u.current&&l.current&&(l.current(),l.current=null,p.current&&(e.registry.unregister(p.current),p.current=null));x.useEffect(()=>{if(!l.current&&u.current){const s=(a,I)=>{var b;I.defaultMuiPrevented||(b=u.current)==null||b.call(u,a,I)};l.current=o.$$subscribeEvent(r,s)}return p.current&&e.registry&&(e.registry.unregister(p.current),p.current=null),()=>{var s;(s=l.current)==null||s.call(l),l.current=null}},[o,r])}}const Nn={registry:null},Ln=$n(Nn),Ye=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?Ye(t.shadowRoot):t:null};function _n(e){return e.replace(/["\\]/g,"\\$&")}const Bn=(e,t)=>{let n=ie(t).find(o=>{if(!e.isItemNavigable(o))return!1;const r=e.getItemMeta(o);return r&&(r.parentId==null||e.isItemExpanded(r.parentId))});return n==null&&(n=Y(e)),n},ve=({instance:e,params:t,state:n,setState:o,models:r,rootRef:d})=>{const c=Bn(e,r.selectedItems.value),l=B(i=>{const f=typeof i=="function"?i(n.focusedItemId):i;n.focusedItemId!==f&&o(h=>y({},h,{focusedItemId:f}))}),u=x.useCallback(()=>!!d.current&&d.current.contains(Ye(Gt(d.current))),[d]),p=x.useCallback(i=>n.focusedItemId===i&&u(),[n.focusedItemId,u]),s=i=>{const f=e.getItemMeta(i);return f&&(f.parentId==null||e.isItemExpanded(f.parentId))},a=(i,f)=>{const h=e.getItemDOMElement(f);h&&h.focus(),l(f),t.onItemFocus&&t.onItemFocus(i,f)},I=B((i,f)=>{s(f)&&a(i,f)}),b=B(()=>{if(n.focusedItemId==null)return;const i=e.getItemMeta(n.focusedItemId);if(i){const f=document.getElementById(e.getTreeItemIdAttribute(n.focusedItemId,i.idAttribute));f&&f.blur()}l(null)}),g=i=>i===c;Ln(e,"removeItem",({id:i})=>{n.focusedItemId===i&&a(null,c)});const m=i=>f=>{var h;(h=i.onFocus)==null||h.call(i,f),!f.defaultMuiPrevented&&f.target===f.currentTarget&&a(f,c)};return{getRootProps:i=>({onFocus:m(i)}),publicAPI:{focusItem:I},instance:{isItemFocused:p,canItemBeTabbed:g,focusItem:I,removeFocusedItem:b}}};ve.getInitialState=()=>({focusedItemId:null});ve.params={onItemFocus:!0};function zn(e){return!!e&&e.length===1&&!!e.match(/\S/)}const Ze=({instance:e,params:t,state:n})=>{const o=Qt(),r=x.useRef({}),d=B(s=>{r.current=s(r.current)});x.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const s={},a=I=>{s[I.id]=I.label.substring(0,1).toLowerCase()};Object.values(n.items.itemMetaMap).forEach(a),r.current=s},[n.items.itemMetaMap,t.getItemId,e]);const c=(s,a)=>{const I=a.toLowerCase(),b=f=>{const h=se(e,f);return h===null?Y(e):h};let g=null,m=b(s);const i={};for(;g==null&&!i[m];)r.current[m]===I?g=m:(i[m]=!0,m=b(m));return g},l=s=>!t.disableSelection&&!e.isItemDisabled(s),u=s=>!e.isItemDisabled(s)&&e.isItemExpandable(s);return{instance:{updateFirstCharMap:d,handleItemKeyDown:(s,a)=>{if(s.defaultMuiPrevented||s.altKey||An(s.target,s.currentTarget))return;const I=s.ctrlKey||s.metaKey,b=s.key;switch(!0){case(b===" "&&l(a)):{s.preventDefault(),t.multiSelect&&s.shiftKey?e.expandSelectionRange(s,a):e.selectItem({event:s,itemId:a,keepExistingSelection:t.multiSelect,shouldBeSelected:t.multiSelect?void 0:!0});break}case b==="Enter":{u(a)?(e.toggleItemExpansion(s,a),s.preventDefault()):l(a)&&(t.multiSelect?(s.preventDefault(),e.selectItem({event:s,itemId:a,keepExistingSelection:!0})):e.isItemSelected(a)||(e.selectItem({event:s,itemId:a}),s.preventDefault()));break}case b==="ArrowDown":{const g=se(e,a);g&&(s.preventDefault(),e.focusItem(s,g),t.multiSelect&&s.shiftKey&&l(g)&&e.selectItemFromArrowNavigation(s,a,g));break}case b==="ArrowUp":{const g=Je(e,a);g&&(s.preventDefault(),e.focusItem(s,g),t.multiSelect&&s.shiftKey&&l(g)&&e.selectItemFromArrowNavigation(s,a,g));break}case(b==="ArrowRight"&&!o||b==="ArrowLeft"&&o):{if(e.isItemExpanded(a)){const g=se(e,a);g&&(e.focusItem(s,g),s.preventDefault())}else u(a)&&(e.toggleItemExpansion(s,a),s.preventDefault());break}case(b==="ArrowLeft"&&!o||b==="ArrowRight"&&o):{if(u(a)&&e.isItemExpanded(a))e.toggleItemExpansion(s,a),s.preventDefault();else{const g=e.getItemMeta(a).parentId;g&&(e.focusItem(s,g),s.preventDefault())}break}case b==="Home":{l(a)&&t.multiSelect&&I&&s.shiftKey?e.selectRangeFromStartToItem(s,a):e.focusItem(s,Y(e)),s.preventDefault();break}case b==="End":{l(a)&&t.multiSelect&&I&&s.shiftKey?e.selectRangeFromItemToEnd(s,a):e.focusItem(s,Ge(e)),s.preventDefault();break}case b==="*":{e.expandAllSiblings(s,a),s.preventDefault();break}case(b==="a"&&I&&t.multiSelect&&!t.disableSelection):{e.selectAllNavigableItems(s),s.preventDefault();break}case(!I&&!s.shiftKey&&zn(b)):{const g=c(a,b);g!=null&&(e.focusItem(s,g),s.preventDefault());break}}}}}};Ze.params={};const et=({slots:e,slotProps:t})=>({contextValue:{icons:{slots:{collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,endIcon:e.endIcon},slotProps:{collapseIcon:t.collapseIcon,expandIcon:t.expandIcon,endIcon:t.endIcon}}}});et.params={};const tt=x.createContext(null);function nt(e){const{children:t,itemId:n=null}=e,{instance:o,rootRef:r}=ee(),d=x.useRef(new Map);x.useEffect(()=>{if(!r.current)return;let l=null;if(n==null)l=r.current.id;else{const b=o.getItemMeta(n);b!==void 0&&(l=o.getTreeItemIdAttribute(n,b.idAttribute))}if(l==null)return;const u=o.getItemOrderedChildrenIds(n??null)??[],p=_n(l),s=r.current.querySelectorAll(`${n==null?"":`*[id="${p}"] `}[role="treeitem"]:not(*[id="${p}"] [role="treeitem"] [role="treeitem"])`),a=Array.from(s).map(b=>d.current.get(b.id));(a.length!==u.length||a.some((b,g)=>b!==u[g]))&&o.setJSXItemsOrderedChildrenIds(n??null,a)});const c=x.useMemo(()=>({registerChild:(l,u)=>d.current.set(l,u),unregisterChild:l=>d.current.delete(l),parentId:n}),[n]);return C.jsx(tt.Provider,{value:c,children:t})}const ne=({instance:e,setState:t})=>{e.preventItemUpdates();const n=B(d=>(t(c=>{if(c.items.itemMetaMap[d.id]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${d.id}"`].join(`
`));return y({},c,{items:y({},c.items,{itemMetaMap:y({},c.items.itemMetaMap,{[d.id]:d}),itemMap:y({},c.items.itemMap,{[d.id]:{id:d.id,label:d.label}})})})}),()=>{t(c=>{const l=y({},c.items.itemMetaMap),u=y({},c.items.itemMap);return delete l[d.id],delete u[d.id],y({},c,{items:y({},c.items,{itemMetaMap:l,itemMap:u})})}),Xe(e,"removeItem",{id:d.id})})),o=(d,c)=>{const l=d??q;t(u=>y({},u,{items:y({},u.items,{itemOrderedChildrenIds:y({},u.items.itemOrderedChildrenIds,{[l]:c}),itemChildrenIndexes:y({},u.items.itemChildrenIndexes,{[l]:qe(c)})})}))},r=B((d,c)=>(e.updateFirstCharMap(l=>(l[d]=c,l)),()=>{e.updateFirstCharMap(l=>{const u=y({},l);return delete u[d],u})}));return{instance:{insertJSXItem:n,setJSXItemsOrderedChildrenIds:o,mapFirstCharFromJSX:r}}},ot=e=>Array.isArray(e)?e.length>0&&e.some(ot):!!e,Un=({props:e,rootRef:t,contentRef:n})=>{const{instance:o}=ee(),{children:r,disabled:d=!1,label:c,itemId:l,id:u}=e,p=x.useContext(tt);if(p==null)throw new Error(["MUI X: Could not find the Tree View Children Item context.","It looks like you rendered your component outside of a SimpleTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));const{registerChild:s,unregisterChild:a,parentId:I}=p,b=ot(r),g=x.useRef(null),m=le(g,n);return Xt(()=>{const i=o.getTreeItemIdAttribute(l,u);return s(i,l),()=>{a(i)}},[o,s,a,l,u]),x.useEffect(()=>o.insertJSXItem({id:l,idAttribute:u,parentId:I,expandable:b,disabled:d}),[o,I,l,b,d,u]),x.useEffect(()=>{var i;if(c)return o.mapFirstCharFromJSX(l,(((i=g.current)==null?void 0:i.textContent)??"").substring(0,1).toLowerCase())},[o,l,c]),{contentRef:m,rootRef:t}};ne.itemPlugin=Un;ne.wrapItem=({children:e,itemId:t})=>{const n=x.useContext(Q);return C.jsx(nt,{itemId:t,children:C.jsx(Q.Provider,{value:n+1,children:e})})};ne.wrapRoot=({children:e})=>C.jsx(nt,{children:C.jsx(Q.Provider,{value:0,children:e})});ne.params={};const Kn=[te,pe,me,ve,Ze,et,ne],Xn=_e(),qn=e=>{const{classes:t}=e;return de({root:["root"]},hn,t)},Hn=D("ul",{name:"MuiSimpleTreeView",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"}),Wn=[],Jn=x.forwardRef(function(t,n){const o=Xn({props:t,name:"MuiSimpleTreeView"}),r=o,{getRootProps:d,contextValue:c}=kn({plugins:Kn,rootRef:n,props:y({},o,{items:Wn})}),{slots:l,slotProps:u}=o,p=qn(o),s=(l==null?void 0:l.root)??Hn,a=J({elementType:s,externalSlotProps:u==null?void 0:u.root,className:p.root,getSlotProps:d,ownerState:r});return C.jsx(Sn,{value:c,children:C.jsx(s,y({},a))})});function rt(e){const{instance:t,items:{onItemClick:n},selection:{multiSelect:o,checkboxSelection:r,disableSelection:d},expansion:{expansionTrigger:c}}=ee(),l=t.isItemExpandable(e),u=t.isItemExpanded(e),p=t.isItemFocused(e),s=t.isItemSelected(e),a=t.isItemDisabled(e);return{disabled:a,expanded:u,selected:s,focused:p,disableSelection:d,checkboxSelection:r,handleExpansion:i=>{if(!a){p||t.focusItem(i,e);const f=o&&(i.shiftKey||i.ctrlKey||i.metaKey);l&&!(f&&t.isItemExpanded(e))&&t.toggleItemExpansion(i,e)}},handleSelection:i=>{a||(p||t.focusItem(i,e),o&&(i.shiftKey||i.ctrlKey||i.metaKey)?i.shiftKey?t.expandSelectionRange(i,e):t.selectItem({event:i,itemId:e,keepExistingSelection:!0}):t.selectItem({event:i,itemId:e,shouldBeSelected:!0}))},handleCheckboxSelection:i=>{if(d||a)return;const f=i.nativeEvent.shiftKey;o&&f?t.expandSelectionRange(i,e):t.selectItem({event:i,itemId:e,keepExistingSelection:o,shouldBeSelected:i.target.checked})},handleContentClick:n,preventSelection:i=>{(i.shiftKey||i.ctrlKey||i.metaKey||a)&&i.preventDefault()},expansionTrigger:c}}const Gn=D("div",{name:"MuiTreeItem2DragAndDropOverlay",slot:"Root",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>qt(e)&&e!=="action"})(({theme:e})=>({position:"absolute",left:0,display:"flex",top:0,bottom:0,right:0,pointerEvents:"none",variants:[{props:{action:"make-child"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderRadius:e.shape.borderRadius,backgroundColor:A((e.vars||e).palette.primary.dark,.15)}},{props:{action:"reorder-above"},style:y({marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderTop:`1px solid ${A((e.vars||e).palette.grey[900],.6)}`},e.palette.mode==="dark"&&{borderTop:`1px solid ${A((e.vars||e).palette.grey[100],.6)}`})},{props:{action:"reorder-below"},style:y({marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderBottom:`1px solid ${A((e.vars||e).palette.grey[900],.6)}`},e.palette.mode==="dark"&&{borderBottom:`1px solid ${A((e.vars||e).palette.grey[100],.6)}`})},{props:{action:"move-to-parent"},style:y({marginLeft:"calc(var(--TreeView-indentMultiplier) * calc(var(--TreeView-itemDepth) - 1))",borderBottom:`1px solid ${A((e.vars||e).palette.grey[900],.6)}`},e.palette.mode==="dark"&&{borderBottom:`1px solid ${A((e.vars||e).palette.grey[900],.6)}`})}]}));function Qn(e){return e.action==null?null:C.jsx(Gn,y({},e))}const Yn=["classes","className","displayIcon","expansionIcon","icon","label","itemId","onClick","onMouseDown","dragAndDropOverlayProps"],st=x.forwardRef(function(t,n){const{classes:o,className:r,displayIcon:d,expansionIcon:c,icon:l,label:u,itemId:p,onClick:s,onMouseDown:a,dragAndDropOverlayProps:I}=t,b=X(t,Yn),{disabled:g,expanded:m,selected:i,focused:f,disableSelection:h,checkboxSelection:w,handleExpansion:k,handleSelection:S,handleCheckboxSelection:E,handleContentClick:T,preventSelection:V,expansionTrigger:$}=rt(p),N=l||c||d,M=x.useRef(null),z=O=>{V(O),a&&a(O)},U=O=>{var F;T==null||T(O,p),!((F=M.current)!=null&&F.contains(O.target))&&($==="content"&&k(O),w||S(O),s&&s(O))};return C.jsxs("div",y({},b,{className:ue(r,o.root,m&&o.expanded,i&&o.selected,f&&o.focused,g&&o.disabled),onClick:U,onMouseDown:z,ref:n,children:[C.jsx("div",{className:o.iconContainer,children:N}),w&&C.jsx(gn,{className:o.checkbox,checked:i,onChange:E,disabled:g||h,ref:M,tabIndex:-1}),C.jsx("div",{className:o.label,children:u}),I&&C.jsx(Qn,y({},I))]}))});function Zn(e){return ae("MuiTreeItem",e)}const L=ce("MuiTreeItem",["root","groupTransition","content","expanded","selected","focused","disabled","iconContainer","label","checkbox","dragAndDropOverlay"]),eo=Z(C.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"TreeViewExpandIcon"),to=Z(C.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"TreeViewCollapseIcon");function it(e){const{children:t,itemId:n}=e,{wrapItem:o,instance:r}=ee();return o({children:t,itemId:n,instance:r})}it.propTypes={children:Ae.node,itemId:Ae.string.isRequired};const no=["children","className","slots","slotProps","ContentComponent","ContentProps","itemId","id","label","onClick","onMouseDown","onFocus","onBlur","onKeyDown"],oo=["ownerState"],ro=["ownerState"],so=["ownerState"],io=_e(),lo=e=>{const{classes:t}=e;return de({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],checkbox:["checkbox"],label:["label"],groupTransition:["groupTransition"]},Zn,t)},ao=D("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(e,t)=>t.root})({listStyle:"none",margin:0,padding:0,outline:0}),co=D(st,{name:"MuiTreeItem",slot:"Content",overridesResolver:(e,t)=>[t.content,t.iconContainer&&{[`& .${L.iconContainer}`]:t.iconContainer},t.label&&{[`& .${L.label}`]:t.label}],shouldForwardProp:e=>Ne(e)&&e!=="indentationAtItemLevel"})(({theme:e})=>({padding:e.spacing(.5,1),borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${L.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${L.focused}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${L.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:A(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:A(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:A(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${L.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:A(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`& .${L.iconContainer}`]:{width:16,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${L.label}`]:y({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative"},e.typography.body1),[`& .${L.checkbox}`]:{padding:0},variants:[{props:{indentationAtItemLevel:!0},style:{paddingLeft:`calc(${e.spacing(1)} + var(--TreeView-itemChildrenIndentation) * var(--TreeView-itemDepth))`}}]})),uo=D(Wt,{name:"MuiTreeItem",slot:"GroupTransition",overridesResolver:(e,t)=>t.groupTransition,shouldForwardProp:e=>Ne(e)&&e!=="indentationAtItemLevel"})({margin:0,padding:0,paddingLeft:"var(--TreeView-itemChildrenIndentation)",variants:[{props:{indentationAtItemLevel:!0},style:{paddingLeft:0}}]}),po=x.forwardRef(function(t,n){var Pe,Re,Oe;const{icons:o,runItemPlugins:r,items:{disabledItemsFocusable:d,indentationAtItemLevel:c},selection:{multiSelect:l},expansion:{expansionTrigger:u},instance:p}=ee(),s=x.useContext(Q),a=io({props:t,name:"MuiTreeItem"}),{children:I,className:b,slots:g,slotProps:m,ContentComponent:i=st,ContentProps:f,itemId:h,id:w,label:k,onClick:S,onMouseDown:E,onBlur:T,onKeyDown:V}=a,$=X(a,no),{expanded:N,focused:M,selected:z,disabled:U,handleExpansion:O}=rt(h),{contentRef:F,rootRef:fe,propsEnhancers:R}=r(a),K=x.useRef(null),P=x.useRef(null),oe=le(n,fe,K),ct=le(f==null?void 0:f.ref,F,P),W={expandIcon:(g==null?void 0:g.expandIcon)??o.slots.expandIcon??eo,collapseIcon:(g==null?void 0:g.collapseIcon)??o.slots.collapseIcon??to,endIcon:(g==null?void 0:g.endIcon)??o.slots.endIcon,icon:g==null?void 0:g.icon,groupTransition:g==null?void 0:g.groupTransition},ke=v=>Array.isArray(v)?v.length>0&&v.some(ke):!!v,re=ke(I),Ie=y({},a,{expanded:N,focused:M,selected:z,disabled:U,indentationAtItemLevel:c}),j=lo(Ie),Se=W.groupTransition??void 0,ut=J({elementType:Se,ownerState:{},externalSlotProps:m==null?void 0:m.groupTransition,additionalProps:y({unmountOnExit:!0,in:N,component:"ul",role:"group"},c?{indentationAtItemLevel:!0}:{}),className:j.groupTransition}),dt=v=>{u==="iconContainer"&&O(v)},ge=N?W.collapseIcon:W.expandIcon,pt=J({elementType:ge,ownerState:{},externalSlotProps:v=>N?y({},H(o.slotProps.collapseIcon,v),H(m==null?void 0:m.collapseIcon,v)):y({},H(o.slotProps.expandIcon,v),H(m==null?void 0:m.expandIcon,v)),additionalProps:{onClick:dt}}),mt=X(pt,oo),ft=re&&ge?C.jsx(ge,y({},mt)):null,he=re?void 0:W.endIcon,It=J({elementType:he,ownerState:{},externalSlotProps:v=>re?{}:y({},H(o.slotProps.endIcon,v),H(m==null?void 0:m.endIcon,v))}),gt=X(It,ro),ht=he?C.jsx(he,y({},gt)):null,be=W.icon,bt=J({elementType:be,ownerState:{},externalSlotProps:m==null?void 0:m.icon}),xt=X(bt,so),Ct=be?C.jsx(be,y({},xt)):null;let xe;l?xe=z:z&&(xe=!0);function yt(v){!M&&(!U||d)&&v.currentTarget===v.target&&p.focusItem(v,h)}function wt(v){T==null||T(v),p.removeFocusedItem()}const Tt=v=>{V==null||V(v),p.handleItemKeyDown(v,h)},vt=p.getTreeItemIdAttribute(h,w),Et=p.canItemBeTabbed(h)?0:-1,kt=((Pe=R.root)==null?void 0:Pe.call(R,{rootRefObject:K,contentRefObject:P,externalEventHandlers:Fe($)}))??{},St=((Re=R.content)==null?void 0:Re.call(R,{rootRefObject:K,contentRefObject:P,externalEventHandlers:Fe(f)}))??{},Me=((Oe=R.dragAndDropOverlay)==null?void 0:Oe.call(R,{rootRefObject:K,contentRefObject:P,externalEventHandlers:{}}))??{};return C.jsx(it,{itemId:h,children:C.jsxs(ao,y({className:ue(j.root,b),role:"treeitem","aria-expanded":re?N:void 0,"aria-selected":xe,"aria-disabled":U||void 0,id:vt,tabIndex:Et},$,{ownerState:Ie,onFocus:yt,onBlur:wt,onKeyDown:Tt,ref:oe,style:c?y({},$.style,{"--TreeView-itemDepth":typeof s=="function"?s(h):s}):$.style},kt,{children:[C.jsx(co,y({as:i,classes:{root:j.content,expanded:j.expanded,selected:j.selected,focused:j.focused,disabled:j.disabled,iconContainer:j.iconContainer,label:j.label,checkbox:j.checkbox},label:k,itemId:h,onClick:S,onMouseDown:E,icon:Ct,expansionIcon:ft,displayIcon:ht,ownerState:Ie},f,St,Me.action==null?{}:{dragAndDropOverlayProps:Me},{ref:ct})),I&&C.jsx(uo,y({as:Se},ut,{children:I}))]}))})});var Ee={},mo=jt;Object.defineProperty(Ee,"__esModule",{value:!0});var lt=Ee.default=void 0,fo=mo(Dt()),Io=C;lt=Ee.default=(0,fo.default)((0,Io.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined");const go=D(Jn)(({theme:e})=>({"& .name":{marginLeft:e.spacing(.5)},"& .father":{marginLeft:e.spacing(1)},"& .male":{color:"#2196f3"},"& .female":{color:"#f44336"},"& .unknown":{color:"#888888"}})),De=({name:e})=>{const t=Le(),n=x.useCallback(()=>{t(Mt.push(e))},[t,e]);return C.jsx(Ht,{"aria-label":"horse info",size:"small",onClick:n,children:C.jsx(lt,{fontSize:"inherit"})})},ho=(e,t)=>{e.owned=e.owned||t.owned,e.className=[t.sex].join(" "),e.label=C.jsxs(Te.Fragment,{children:[(()=>{switch(t.sex){case"male":return C.jsx(Ce,{icon:Nt});case"female":return C.jsx(Ce,{icon:$t});case"unknown":return C.jsx(Ce,{icon:Vt});default:t.sex}})(),C.jsxs("span",{className:"name",children:[t.name,C.jsx(De,{name:t.name})]}),t.fatherName?C.jsxs(Te.Fragment,{children:["(",C.jsxs("span",{className:"father male",children:[t.fatherName,C.jsx(De,{name:t.fatherName})]}),")"]}):null]}),e.fatherName=t.fatherName??e.fatherName,e.motherName=t.motherName??e.fatherName},bo=e=>{const t=new Map,n=r=>t.get(r)??(()=>{const d={id:r,label:C.jsx(Te.Fragment,{}),children:[],owned:!1};return t.set(r,d),d})(),o=r=>{const d=n(r.name);ho(d,r),r.motherName&&n(r.motherName).children.push(d)};return e.forEach(o),{nodes:Array.from(t.values()).filter(r=>{var d;return r.owned&&(!r.motherName||!t.has(r.motherName)||t.has(r.motherName)&&!((d=t.get(r.motherName))!=null&&d.owned))}),ids:Array.from(t.keys())}};function at({node:e,toggleExpand:t}){return C.jsx(po,{className:e.className,itemId:e.id,label:e.label,children:e.children.map(n=>({node:n,toggleExpand:t})).map(at)},e.id)}const xo=function(){const t=Le(),[n,o]=x.useState([]),r=Lt(u=>u.horseDefs.list),{nodes:d,ids:c}=x.useMemo(()=>r.length>0?_t(t)("mare-line/init")(()=>bo(r)):{nodes:[],ids:[]},[t,r]);x.useEffect(()=>{o(c)},[o,c]);const l=x.useMemo(()=>u=>p=>{o(n.includes(u.id)?n.filter(s=>s!==u.id):[...n,u.id])},[n,o]);return C.jsx(go,{children:d.map(u=>({node:u,toggleExpand:l})).map(at)})},Co=D(Yt)(({theme:e})=>({padding:e.spacing(2)}));function zo(){return C.jsx(Rt,{children:C.jsx(Co,{children:C.jsx(xo,{})})})}Pt(Ot);export{zo as default};
